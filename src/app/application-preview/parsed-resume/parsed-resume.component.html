<!--
  @(C): Entire Software
  @Type: File, <html>
  @Name: parsed-resume.component.ts
  @Who: Renu
  @When: 24-May-2022
  @Why: EWM-6558 EWM-6782
  @What: parse resume component
-->
<ng-container *ngIf="!candidateExists">
    <div *ngIf="loading" class="logo-loader new-logo-loader" id="logo-loader">
        <svg id="uuid-d007ca5b-8cc9-4eb1-b22b-737d4ac8c97a" class="svg-loader" data-name="Layer 1"
            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 146.77 179.91">
            <defs>
                <radialGradient id="uuid-0f71c9eb-ebcc-4ebc-83e0-179accc70292" data-name="New Gradient Swatch 6"
                    cx="121.51" cy="137.48" fx="144.95" fy="163.86" r="47.34"
                    gradientTransform="translate(-37.36 -25.52) rotate(-12) scale(1 1.4)"
                    gradientUnits="userSpaceOnUse">
                    <stop offset=".26" stop-color="#8b63a9" />
                    <stop offset=".5" stop-color="#6c3f97" />
                    <stop offset=".8" stop-color="#381f75" />
                </radialGradient>
                <linearGradient id="uuid-dc932506-eed1-43d3-bec4-fbecab1521c2" data-name="New Gradient Swatch 3"
                    x1="-3.87" y1="152.86" x2="154.54" y2="95.21" gradientUnits="userSpaceOnUse">
                    <stop offset=".3" stop-color="#cd181e" />
                    <stop offset=".8" stop-color="#f58a1f" />
                    <stop offset=".95" stop-color="#fcb813" />
                </linearGradient>
                <radialGradient id="uuid-ba892379-9f70-43df-91c4-a59d35673950" cx="33.54" cy="73.74" fx="12.03"
                    fy="51.89" r="42.9" gradientTransform="translate(6.22 -45.84) rotate(3) scale(1 1.6)"
                    gradientUnits="userSpaceOnUse">
                    <stop offset=".29" stop-color="#c5168c" />
                    <stop offset=".58" stop-color="#90278e" />
                    <stop offset=".88" stop-color="#381f75" />
                </radialGradient>
            </defs>
            <path class="upper-circle circle"
                d="m55.78,28.33c-4.76-11.98,2.87-26.39,15.77-28.09,20.57-2.71,38.06,17.59,23.64,37.32-16.75,22.92-33.67,5.18-39.41-9.23" />
            <path class="last-curve path"
                d="m139.75,140.86c-3.29-3.34-9.1-6.93-15.12-10.98-16.99-11.42-26.28-24.17-17.29-35.1-1.04,1.28-2.05,2.62-2.99,4.04-10.6,15.91-11.39,48.61,1.21,68.9,3.13,5.03,6.7,8.15,10.24,9.97,2.78,1.26,5.4,2,7.39,2.17,0,0,.87.04,1.12.04,12.04,0,22.45-10.22,22.45-22.66,0-7.17-3.1-12.41-7.02-16.38Z" />
            <path class="third-curve path"
                d="m123.2,179.87s-.01,0-.02,0c0,0,0,0-.01,0,0,0,.02,0,.03,0-1.99-.18-4.61-.91-7.39-2.17-3.54-1.83-7.12-4.94-10.24-9.97-12.6-20.29-11.81-52.98-1.21-68.9.03-.04.05-.08.08-.12.43-.64.87-1.26,1.31-1.86.07-.09.14-.18.21-.28.44-.6.9-1.18,1.36-1.75,0-.01.02-.02.03-.03,0,0-.01.02-.02.02,12.41-15.28,30.75-21.94,30.75-41.46,0-10.39-7.98-17.82-17.82-17.82-2.3,0-14.06.29-24.71,19.42-.05.09-.11.2-.16.3-2.12,3.89-6.06,12.62-9.49,20.37-5.28,11.95-7.84,21.95-21.1,33.87-14.23,12.79-37.83,24-37.83,24,0,0,.08-.04.18-.11-8.82,4.79-16,8.48-17.85,9.76-6.82,4.69-9.29,10.95-9.29,16.81,0,11.03,8.94,19.96,19.96,19.96,24.87,0,36.05-43.28,58.99-35.22,13.98,4.91,22.05,34.21,44.25,35.18,0,0,0,0,0,0,0,0,0,0,0,0Z" />
            <path class="first-curve path"
                d="m49.11,35.86c-4.72-4.53-10.39-7.67-17.69-7.67-13.35,0-24.17,10.82-24.17,24.18,0,7.25,2.96,12.87,7.4,17.35,10.31,10.43,32.18,21.11,32.49,38.48,0,2.69-.23,4.92-1.3,7.82-.46,1.23-1.12,2.29-1.85,3.28,1.78-2.1,3.55-4.54,5.34-7.41,10.61-17.11,10.53-38.81,10.52-39.48-.36-23.41-4.64-30.44-10.72-36.54,0,0,0,0,0,0" />
            <path class="second-curve path"
                d="m77.7,72.63c-9.75-.86-15.63-23.33-27.87-36.03,5.7,5.96,9.66,13.33,10.01,35.81,0,.59.07,17.53-7.2,33.27-.22.53-.2.46-.42.89-.43.9-.89,1.78-1.37,2.67-.09.16-.17.32-.26.48-.39.7-.79,1.39-1.21,2.07-.02.04-.04.08-.07.12-.12.19-.25.4-.4.62-.02.04-.05.07-.07.11-.38.61-.77,1.2-1.15,1.76-.02.03-.04.06-.07.1-.38.56-.77,1.12-1.15,1.64-.11.15-.22.3-.34.45-.3.4-.59.8-.89,1.18-.42.54-.85,1.06-1.27,1.56.02-.03-2.47,2.79-3.66,3.95-5.77,5.64-13.36,10.25-13.36,10.25,0,0,23.6-11.21,37.83-24,13.26-11.92,15.83-21.92,21.1-33.87,3.51-7.96,7.57-16.94,9.65-20.67-5.2,9.34-9.49,18.42-17.84,17.68Z" />
        </svg>
    </div>
    <div class="header" id="header">
        <div class="title">
            <h1>{{'label_uploadIcon' | translate}} {{'label_resume' | translate}}</h1>
            <!-- @When: 05-04-2024 @who:Amit @why: EWM-16603 @what: label change -->
            <p>{{'label_upload_CV_Quicker' | translate}}</p>
        </div>
        <div mat-dialog-actions align="end" class="button-row actionBoxFooter" id="actionBoxFooter">
            <button mat-stroked-button *ngIf="!submitActive" color="primary" type="button" id="btnSave"
                [disabled]="mode=='apply'?!UploadResumeInfo.valid:false" tabindex (click)="onConfirm()">
                {{'label_continue'|translate}}</button>
            <button *ngIf="submitActive" mat-stroked-button color="primary" tabindex type="button" id="btnSubmit"
                (click)="saveApplicationInfo()" [disabled]="mode=='apply'?!UploadResumeInfo.valid:false">
                {{'label_submit'|translate}}</button>

        </div>
    </div>
    <mat-card-title class="stepper-title">{{lableTitleName}} </mat-card-title>
    <div class="upload-parsed-content" id="upload-parsed-content">
        <mat-card class="parsed-mat-card mat-elevation-z2" id="parsed-mat-card">
            <mat-card-content class="resume-content" id="resume-content">
                <form novalidate [formGroup]="UploadResumeInfo" id="uploadResumeForm" class="uploadResumeForm"
                    (ngSubmit)="onConfirm()">
                    <!-- who:maneesh,why:ewm.9562 change label ,when:13/01/2023 -->
                    <mat-card-title *ngIf="filestatus" class="matTitleDocument">{{'label_upload_resume' | translate}}
                        <span>{{resumeInfo==0 || autoFill==1?'*':''}}</span></mat-card-title>

                    <div class="documentUploadRoundBox" *ngIf="filestatus">
                        <div *ngIf="loading" class="k-i-loading inputSearch"></div>
                        <div class="circleCreateDocFileUpload">
                            <input type="file" #fileInput accept="{{fileType}}" tabindex
                                formControlName="file" (change)="Uploadfile($event)" required="{{resumeInfo==0}}" />
                            <mat-icon fontSet="material-icons-outlined">file_upload</mat-icon>
                            <span>{{'label_uploadIcon' | translate}}</span>
                        </div>
                        <p class="fileInstructions">
                            <span>{{'label_parsedResume_AcceptedFileTypes' | translate}}:</span> {{fileType}}
                            {{'label_upto' | translate}} {{fileSizetoShow}}
                        </p>
                    </div>
                    
                    <div class="documentUploadRoundBox file-show" *ngIf="!filestatus">

                        <div class="circleCreateDocFileUpload solidBorderFileUploadBox">
                            <mat-icon>{{iconFileType}}</mat-icon>
                        </div>

                        <div class="show-details">
                            <div class="details-data">
                                <span class="fileInstructions cursor text-overflow" matTooltipClass="custom-tooltip"
                                    matTooltip="{{fileInfo}}">{{fileInfo}}</span>

                                <button mat-icon-button class="closeIconCreateDoc cursor" *ngIf="fileViewstatus"
                                    tabindex type="button" color="warn" (click)="removeImage(filePathOnServer)">
                                    <mat-icon>cancel</mat-icon>
                                </button>
                            </div>

                            <div class="title-file">
                                <span class="other-file">{{'label_parsedResume_UploadDifferentResume' |
                                    translate}}</span>
                                <input type="file" #fileInput accept="{{fileType}}" tabindex formControlName="file"
                                    (change)="Uploadfile($event)" required="{{resumeInfo==0}}" />
                            </div>

                        </div>

                    </div>
                    <mat-error
                        *ngIf="UploadResumeInfo.controls['file'].hasError('required') && UploadResumeInfo.controls['file'].dirty">

                        {{'label_resume'|translate}} {{'label_errorreqired'|translate}}
                    </mat-error>

                    <mat-error *ngIf="UploadResumeInfo.controls['file'].hasError('fileTaken')">
                        {{'label_resume'|translate}} {{'label_fileFormat'|translate}}
                    </mat-error>

                    <mat-form-field>
                        <mat-label>{{'label_firstName' | translate}}</mat-label>
                        <input matInput placeholder="{{'label_firstName'|translate}}" tabindex
                            formControlName="FirstName" required>

                        <mat-error
                            *ngIf="UploadResumeInfo.controls['FirstName'].hasError('required') && UploadResumeInfo.controls['FirstName'].touched">
                            {{ 'label_firstName' |translate}} {{ 'label_errorreqired' |translate}}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>{{'label_lastName' | translate}}</mat-label>
                        <input matInput placeholder="{{'label_lastName'|translate}}" tabindex formControlName="LastName"
                            required>

                        <mat-error
                            *ngIf="UploadResumeInfo.controls['LastName'].hasError('required') && UploadResumeInfo.controls['LastName'].touched">
                            {{ 'label_lastName' |translate}} {{ 'label_errorreqired' |translate}}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>{{'label_emailId' | translate}}</mat-label>
                        <input matInput placeholder="{{'label_emailId'|translate}}" tabindex formControlName="EmailId"
                            required>

                        <mat-error
                            *ngIf="UploadResumeInfo.controls['EmailId'].hasError('required') && UploadResumeInfo.controls['EmailId'].touched">
                            {{ 'label_emailId' |translate}} {{ 'label_errorreqired' |translate}}
                        </mat-error>
                        <mat-error
                            *ngIf="UploadResumeInfo.controls['EmailId'].errors?.pattern && UploadResumeInfo.controls['EmailId'].touched">
                            {{ 'label_emailId' |translate}} {{ 'label_errorEmail' |translate}}
                        </mat-error>
                    </mat-form-field>

                </form>
            </mat-card-content>
            <div class="bg-container">
                <svg viewBox="0 0 500 500" preserveAspectRatio="xMinYMin meet">

                    <path d="M0, 100 C150, 200 350,
                        0 500, 100 L500, 00 L0, 0 Z" class="first">
                    </path>
                </svg>
                <svg viewBox="0 0 500 500" preserveAspectRatio="xMinYMin meet">

                    <path d="M0, 50 C150, 200 350,
                        0 500, 100 L500, 00 L0, 0 Z" class="second">
                    </path>
                </svg>
                <svg viewBox="0 0 500 500" preserveAspectRatio="xMinYMin meet">
                    <path d="M0, 0 C150, 200 350,
                        0 500, 100 L500, 00 L0, 0 Z" class="third">
                    </path>
                </svg>
            </div>
        </mat-card>
    </div>
</ng-container>
<ng-container *ngIf="candidateExists">

    <div *ngIf="loading" class="logo-loader new-logo-loader" id="logo-loader">
        <svg id="uuid-d007ca5b-8cc9-4eb1-b22b-737d4ac8c97a" class="svg-loader" data-name="Layer 1"
            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 146.77 179.91">
            <defs>
                <radialGradient id="uuid-0f71c9eb-ebcc-4ebc-83e0-179accc70292" data-name="New Gradient Swatch 6"
                    cx="121.51" cy="137.48" fx="144.95" fy="163.86" r="47.34"
                    gradientTransform="translate(-37.36 -25.52) rotate(-12) scale(1 1.4)"
                    gradientUnits="userSpaceOnUse">
                    <stop offset=".26" stop-color="#8b63a9" />
                    <stop offset=".5" stop-color="#6c3f97" />
                    <stop offset=".8" stop-color="#381f75" />
                </radialGradient>
                <linearGradient id="uuid-dc932506-eed1-43d3-bec4-fbecab1521c2" data-name="New Gradient Swatch 3"
                    x1="-3.87" y1="152.86" x2="154.54" y2="95.21" gradientUnits="userSpaceOnUse">
                    <stop offset=".3" stop-color="#cd181e" />
                    <stop offset=".8" stop-color="#f58a1f" />
                    <stop offset=".95" stop-color="#fcb813" />
                </linearGradient>
                <radialGradient id="uuid-ba892379-9f70-43df-91c4-a59d35673950" cx="33.54" cy="73.74" fx="12.03"
                    fy="51.89" r="42.9" gradientTransform="translate(6.22 -45.84) rotate(3) scale(1 1.6)"
                    gradientUnits="userSpaceOnUse">
                    <stop offset=".29" stop-color="#c5168c" />
                    <stop offset=".58" stop-color="#90278e" />
                    <stop offset=".88" stop-color="#381f75" />
                </radialGradient>
            </defs>
            <path class="upper-circle circle"
                d="m55.78,28.33c-4.76-11.98,2.87-26.39,15.77-28.09,20.57-2.71,38.06,17.59,23.64,37.32-16.75,22.92-33.67,5.18-39.41-9.23" />
            <path class="last-curve path"
                d="m139.75,140.86c-3.29-3.34-9.1-6.93-15.12-10.98-16.99-11.42-26.28-24.17-17.29-35.1-1.04,1.28-2.05,2.62-2.99,4.04-10.6,15.91-11.39,48.61,1.21,68.9,3.13,5.03,6.7,8.15,10.24,9.97,2.78,1.26,5.4,2,7.39,2.17,0,0,.87.04,1.12.04,12.04,0,22.45-10.22,22.45-22.66,0-7.17-3.1-12.41-7.02-16.38Z" />
            <path class="third-curve path"
                d="m123.2,179.87s-.01,0-.02,0c0,0,0,0-.01,0,0,0,.02,0,.03,0-1.99-.18-4.61-.91-7.39-2.17-3.54-1.83-7.12-4.94-10.24-9.97-12.6-20.29-11.81-52.98-1.21-68.9.03-.04.05-.08.08-.12.43-.64.87-1.26,1.31-1.86.07-.09.14-.18.21-.28.44-.6.9-1.18,1.36-1.75,0-.01.02-.02.03-.03,0,0-.01.02-.02.02,12.41-15.28,30.75-21.94,30.75-41.46,0-10.39-7.98-17.82-17.82-17.82-2.3,0-14.06.29-24.71,19.42-.05.09-.11.2-.16.3-2.12,3.89-6.06,12.62-9.49,20.37-5.28,11.95-7.84,21.95-21.1,33.87-14.23,12.79-37.83,24-37.83,24,0,0,.08-.04.18-.11-8.82,4.79-16,8.48-17.85,9.76-6.82,4.69-9.29,10.95-9.29,16.81,0,11.03,8.94,19.96,19.96,19.96,24.87,0,36.05-43.28,58.99-35.22,13.98,4.91,22.05,34.21,44.25,35.18,0,0,0,0,0,0,0,0,0,0,0,0Z" />
            <path class="first-curve path"
                d="m49.11,35.86c-4.72-4.53-10.39-7.67-17.69-7.67-13.35,0-24.17,10.82-24.17,24.18,0,7.25,2.96,12.87,7.4,17.35,10.31,10.43,32.18,21.11,32.49,38.48,0,2.69-.23,4.92-1.3,7.82-.46,1.23-1.12,2.29-1.85,3.28,1.78-2.1,3.55-4.54,5.34-7.41,10.61-17.11,10.53-38.81,10.52-39.48-.36-23.41-4.64-30.44-10.72-36.54,0,0,0,0,0,0" />
            <path class="second-curve path"
                d="m77.7,72.63c-9.75-.86-15.63-23.33-27.87-36.03,5.7,5.96,9.66,13.33,10.01,35.81,0,.59.07,17.53-7.2,33.27-.22.53-.2.46-.42.89-.43.9-.89,1.78-1.37,2.67-.09.16-.17.32-.26.48-.39.7-.79,1.39-1.21,2.07-.02.04-.04.08-.07.12-.12.19-.25.4-.4.62-.02.04-.05.07-.07.11-.38.61-.77,1.2-1.15,1.76-.02.03-.04.06-.07.1-.38.56-.77,1.12-1.15,1.64-.11.15-.22.3-.34.45-.3.4-.59.8-.89,1.18-.42.54-.85,1.06-1.27,1.56.02-.03-2.47,2.79-3.66,3.95-5.77,5.64-13.36,10.25-13.36,10.25,0,0,23.6-11.21,37.83-24,13.26-11.92,15.83-21.92,21.1-33.87,3.51-7.96,7.57-16.94,9.65-20.67-5.2,9.34-9.49,18.42-17.84,17.68Z" />
        </svg>
    </div>

    <div class="alert-content" id="alert-content">
        <mat-card class="alert-mat-card mat-elevation-z0" id="alert-mat-card">
            <mat-card-content class="alert-inner-content center-align" id="alert-inner-content">
                <div class="alert-text" id="alert-text">
                    <mat-card class="alert-message">
                        <mat-icon color="warn">warning</mat-icon> <div class="alert-text">{{'label_candidateExists'|translate}}
                            <span class="numbers" (click)="openApplicationAlertMSG()">{{candidateInfo?.JobDetails.length}}</span> {{'label_jobs'|translate}}.</div>
                    </mat-card>
                    <p *ngIf="candidateInfo?.HttpStatusCode!==400">{{'label_stillContinue'|translate}}</p>
                    <p *ngIf="candidateInfo?.HttpStatusCode===400">{{'label_candidateSub2'|translate}}</p>
                </div>
                <button mat-raised-button color="warn" tabindex id="btnCancel" type="button" (click)="onCancel()"
                    class="buttonForDesktopMobile">
                    <mat-icon matTooltip="{{'label_cancel'|translate}}" matTooltipClass="custom-tooltip">close
                    </mat-icon>
                    <span class="buttonTxt">{{'label_cancel' |translate}}</span>
                </button>
                <button *ngIf="candidateInfo?.HttpStatusCode!==400" mat-raised-button color="primary" tabindex
                    id="btnCancel" type="button" (click)="onContinue()" class="buttonForDesktopMobile">
                    <mat-icon matTooltip="{{'label_continue'|translate}}" matTooltipClass="custom-tooltip">close
                    </mat-icon>
                    <span class="buttonTxt">{{'label_continue' |translate}}</span>
                </button>
            </mat-card-content>
        </mat-card>
    </div>

</ng-container>
<!-- <app-candidate-check *ngIf="candidateExists"  (onCancelCandidate)="fetchDataFromParent($event)" [urlParam]="fileInfo" [stepper]="fileInfo"></app-candidate-check> -->