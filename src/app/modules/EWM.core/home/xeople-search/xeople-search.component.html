<!---
    @(C): Entire Software
    @Type: File, <html>
    @Who:Satya Prakash Gupta
    @When: 30-Dec-2022
    @Why: EWM-9370 EWM-4523
    @What:  This page is creted for xeople search component HTML
-->
<div *ngIf="loading" class="logo-loader" id="logo-loader">
    <div class="logo-loading"></div>
</div>
<form novalidate [formGroup]="filterSearchForm" class="myActivityContainer" applyTabIndexes style="height: 100%;">
    <mat-card-header class="dashboard-mat-card-header title-and-btn" id="xeople-search-mat-card-header">
        <mat-card-title class="only-title">{{'Xeople Search' |translate}}</mat-card-title>
        <div class="actionButton" *ngIf="!activityStatus">
            <button type="button" mat-raised-button class="buttonForDesktopMobile" tabindex color="warn" id="btnReset" (click)="resetAllFilter()">
                <mat-icon matTooltip="{{'label_resetBtn' | translate}}" matTooltipClass="card-list-tooltip" matTooltipPosition="before">restart_alt</mat-icon>
                <span class="buttonTxt">{{'label_resetBtn' |translate}}</span>
            </button>
            <button type="button" mat-raised-button class="buttonForDesktopMobile" tabindex color="primary" id="btnSaveFilter"
             (click)="openSaveFilterModal()" [disabled]="!filterSearchForm.valid">
                <mat-icon matTooltip="{{'label_saveFilter' | translate}}" matTooltipClass="card-list-tooltip" matTooltipPosition="before" fontSet="material-icons-outlined">filter_alt</mat-icon>
                <span class="buttonTxt">{{'label_saveFilter' |translate}}
                </span>
            </button>
            <!--- @When: 03-03-2023 @Who:Renu @Why: EWM-10970 EWM-11007 @What: button will open in all conditions -->
            <button type="button" mat-raised-button class="buttonForDesktopMobile" tabindex  color="primary" id="btnSearch"
                style="padding: 0px 7px;" (click)="searchResults()" [disabled]="!filterSearchForm.valid">
                <!-- <mat-icon matTooltip="{{'label_searchXeoplers' | translate}}" matTooltipClass="card-list-tooltip" matTooltipPosition="before">check</mat-icon> -->
                <img src="/assets/fab.png"  alt="fab" />
                <span class="buttonTxt">{{'label_searchXeoplers' |translate}}</span>
            </button>
            <button type="button" [hidden]="!searchResult" type="button" style="min-width: auto; padding: 0px 10px;"
                id="moreActionBtn" color="primary" mat-raised-button [matMenuTriggerFor]="beforeMenu"
                (mouseenter)="mouseoverAnimation(animationVar?.ThreeDotButton?.id, animationVar?.ThreeDotButton?.animation)"
                (mouseleave)="mouseleaveAnimation(animationVar?.ThreeDotButton?.id, animationVar?.ThreeDotButton?.animation)">
                <mat-icon id="{{animationVar?.ThreeDotButton?.id}}"
                    class="{{animationVar?.ThreeDotButton?.isAnimClass}}">
                    more_vert
                </mat-icon>
            </button>
            <!--- @When: 30-11-2023 @Who:Amit @Why: EWM-15250 @What: add class -->
            <mat-menu #beforeMenu="matMenu" xPosition="before" class="menu-dropdown xeople-threedot-dropdown">
                <button type="button" mat-button tabindex id="btnContinue" [disabled]="xeople===0" (click)="openAsignJob()"
                    cdkOverlayOrigin #trigger="cdkOverlayOrigin">
                    <mat-icon class="assignment_return-flip">assignment_turned_in</mat-icon>
                    <div class="txt">{{ "label_btnAssignToCandidate" | translate }}</div>
                </button>

                <button type="button" mat-button id="newEmail" disabled>
                    <mat-icon class="searchIcon">search</mat-icon>
                    <div class="txt">{{'label_Searchmatchingjob' |translate}}</div>
                </button>
  <!-- who:maneesh,what:ewm-16029 for fixed bulk email api, when:22/04/2024 -->
  <!-- <button mat-button id="newEmail" (click)="onBulkEmail()" [disabled]="xeople==0">
    <mat-icon>mail</mat-icon>
    <div class="txt">{{'label_mail' |translate}}</div>
</button> -->
                <button mat-button id="newEmail" (click)="openNewEmailModal(undefined,'')" [disabled]="xeople==0">
                    <mat-icon>mail</mat-icon>
                    <div class="txt">{{'label_mail' |translate}}</div>
                </button>
                <button mat-button id="newShare" (click)="openShareEmailModal(undefined,'')" [disabled]="xeople>10 ||xeople==0">
                    <mat-icon>share</mat-icon>
                    <div class="txt">{{'label_share' |translate}}</div>
                </button>
                <a href="tel:{{candidatePhoneNumber}}" (click)="IsPhoneNumber()" mat-button [disabled]="!zoomCheckStatus || receivephoneData.length>1 ||xeople==0
                || notPhoneNumber==null ||notPhoneNumber==''|| notPhoneNumber==undefined "  
                    matTooltipClass="custom-tooltip">
                    <mat-icon>call</mat-icon>
                    <div class="txt">{{'label_call' |translate}}</div>
                </a>
                <button mat-button id="newEmail" [disabled]="!isSMSStatus || xeople==0" (click)="smsHistoryDetails()">
                    <mat-icon>textsms</mat-icon>
                    <div class="txt">{{'label_sms' |translate}}</div>
                </button>
                <button mat-button class="newEmailBtn" (click)="activityAdd.toggle();openCreateActivity()"
                    id="createActivityId" [disabled]="receivephoneData.length>1 ||xeople==0">
                    <mat-icon>event_available</mat-icon>
                    <div class="txt">{{'label_create' |translate}} {{'label_MenuActivity' |translate}}</div>
                </button>
                <button mat-button tabindex id="btnContinue" (click)="openParseResume()" cdkOverlayOrigin
                    #trigger="cdkOverlayOrigin" [disabled]="receivephoneData.length>1 ||xeople==0">
                    <mat-icon class="assignment_return-flip">description</mat-icon>
                    <div class="txt">{{ "label_parseResume" | translate }}</div>
                </button>
                <button mat-button id="timelineBtn" (click)="openTimelinePopup()"
                [disabled]="xeople==0 || candidateInfo==null || receivephoneData.length>1"><!--@When: 13-03-2023 @Who:Renu @Why: EWM-10970 EWM-10999 @What: Action Search Xeopler-View Job Timeline-->
                    <mat-icon>view_timeline</mat-icon>
                    <div class="txt">{{'label_viewJobTimeline' |translate}}</div>
                </button>
                <button mat-button id="proximityBtn2" (click)="openForLatLongDistance()"
                [disabled]=" xeople===0 || receivephoneData.length>1
                || JobLatitude==null    || JobLatitude==undefined    || JobLatitude==''
                || JobLongitude == null || JobLongitude == undefined || JobLongitude == ''
                || Latitude==null       || Latitude==undefined       || Latitude== ''
                || Longitude == null    || Longitude == undefined       || Longitude == '' ">
                    <mat-icon fontSet="material-icons-outlined" class="mr-0">near_me</mat-icon>
                    <div class="txt">{{'label_viewclientdirection' |translate}}</div>
                </button>

                <button mat-button id="newEmail" disabled>
                    <mat-icon>file_download</mat-icon>
                    <div class="txt">{{'label_Export' |translate}}</div>
                </button>
                <button *ngIf="IsEOHIntergrated && IsPushJobNotificationEnable" mat-button class="push-job integration" id="xeople-pushmembers" (click)="openPushMemberPopup()"
                [disabled]="((jobId && jobId!=''?false:true) || savedFilter?.JobDetails?.HeaderDetails?.JobDetails?.IsApplicationFormAvailable==0) || xeople===0 || pushNotificationStatus===0"
                [ngClass]="savedFilter?.JobDetails?.HeaderDetails?.JobDetails?.IsApplicationFormAvailable==0? 'with-msg':'without-msg'">
                    <div class="groups">
                        <mat-icon>touch_app</mat-icon>
                        <div>
                            <div class="txt">{{'label_xeopleSearchBroadcastJobMembers' |translate}}</div>
                            <div class="text-label" *ngIf="savedFilter?.JobDetails?.HeaderDetails?.JobDetails?.IsApplicationFormAvailable==0">{{'label_xeoplePushNojobMsg'|translate}}</div>
                        </div>
                        <mat-icon matTooltipPosition="left" matTooltip="{{'label_xeopleSearchBySharingPushNotification' |translate}}">
                            info
                        </mat-icon>
                    </div>
                    
                </button>
                <a *ngIf="!(IsEOHIntergrated && IsPushJobNotificationEnable)" mat-button class="push-job integration push-notification" routerLink="../../administrators/integration-interface-board/ehr-integration" 
                [queryParams]="{code: eohRegistrationCode, name: eohIntegratedName}" id="xeople_redirectPush">
                    <div class="groups">
                        <mat-icon>touch_app</mat-icon>
                        <div>
                            <div class="txt">{{'label_xeopleSearchBroadcastJobMembers' |translate}}</div>
                            <div class="text-label">{{'label_xeoplePushIntegration'|translate}}</div>
                        </div>
                        <mat-icon matTooltipPosition="left" matTooltip="{{'label_xeopleSearchBySharingPushNotification' |translate}}">
                            info
                        </mat-icon>
                    </div>
                    
                </a>

            </mat-menu>
        </div>
    </mat-card-header>

    <mat-drawer-container class="advancedsearch-container
        xeople-search-container" autosize id="xeople-search-container" [ngClass]="searchResult==true?'search-xeoplers-list':''">

        <mat-drawer #activityAdd class="activitydrawer" mode="over" disableClose="true" position="end"
            id="candidate-list-advancedsearchDrawer">
            <div class="activitydrawer-innercontainer" id="activitydrawer-innercontainer">
                <div class="activitydrawer-innercontainer-drawerTitleSec" id="drawerTitleSec">
                    <h4 class="text-overflow">
                        {{'label_addNewActivity'|translate}}<button type="button" class="closeDrawerIcon" id="AddEditId"
                            mat-stroked-button
                            (click)="activityAdd.toggle();closeDrawerMyActivity()"><mat-icon>close</mat-icon></button>
                    </h4>
                </div>
                <mat-card class="activitydrawer-innercontainer-mat-card" id="activitydrawer-innercontainer-mat-card"
                    *ngIf="activityStatus">
                    <app-xeople-search-activity [candidateIdData]="candidateId"
                        [Names]="candidateName" [JobId]="jobId" [selectedCandEmail]="selectedCandEmail"
                        (myActivityDrawerClose)="drawerCloseMyActivity($event)"></app-xeople-search-activity>
                </mat-card>
            </div>
        </mat-drawer>

        <!---------@When: 04-04-2023 @who:Amit @what: add class--------->
        <mat-drawer-content class="xeople-search-drawer" id="xeople-drawer">
            <!---------@When: 11-04-2023 @who:Amit @why: EWM-11845 @what: add class--------->
            <div class="xeople-search-main p-10">
                <div class="xeople-search-first-sec" id="xeople-search-first-sec">
                    <div class="xeople-search-first-sec-form-col" id="xeople-search-first-sec-form-col">
                        <div class="ng-slectBox ng-select-with-info-icon mb-0" [ngClass]="(selectedJobSaved | json) != '{}'?'job-parameter':''">
                             <!--@When:24-07-2023 @Who: Renu @Why:EWM-13284 EWM-13357 -->

                                <ng-select class="dropdown-body" #select [searchable]="false" formControlName="JobTitle" appendTo="body"
                                [clearable]="true"  [closeOnSelect]="true"  (change)="onJobchange($event,'onChange')"
                                placeholder="{{'candidate_job' | translate}}"
                                bindLabel="JobTitle" [compareWith]="compareFnJobs"
                                id="xeopleSearch-Jobworkflow">
                                    <ng-template ng-header-tmp>
                                            <ng-container>
                                                <div class="flex-add-manage">
                                                    <span class="spacer"></span>
                                                    <button mat-icon-button (click)="getUpdateOptions()"
                                                        [ngClass]="loaderRefresh?'rotate-loader':''" matTooltip="{{'label_refreshBtn'|translate}}"
                                                        class="refreshBtn radius-call" color="primary" type="button"
                                                        matTooltip="{{'label_refreshBtn'|translate}}" matTooltipClass="custom-tooltip-top" matTooltipPosition="above"
                                                        (mouseenter)="mouseoverAnimation(animationVar?.BarRotateButton?.id, animationVar?.BarRotateButton?.animation)"
                                                        (mouseleave)="mouseleaveAnimation(animationVar?.BarRotateButton?.id, animationVar?.BarRotateButton?.animation)">
                                                        <mat-icon id="{{animationVar?.BarRotateButton?.id}}" class="{{animationVar?.BarRotateButton?.isAnimClass}}">refresh</mat-icon>
                                                    </button>
                                                </div>
                                            </ng-container>
                                            <ng-container>
                                                <mat-form-field class="dropdown-search" floatLabel="never">
                                                    <input matInput class="selectSearch" autocomplete="off" formControlName="inputValue"
                                                    placeholder="{{'label_search' |translate}} {{ 'candidate_job'|translate}}" type="text" (input)="searchData($event.target.value)" />
                                                    <button *ngIf="inputVal!=''" matSuffix mat-icon-button aria-label="Clear" (click)="onSearchFilterClear()">
                                                        <mat-icon>close</mat-icon>
                                                        </button>
                                                </mat-form-field>
                                            </ng-container>
                                    </ng-template>
                                    <ng-option *ngFor="let item of JobWorkFlow" [value]="item" >
                                        <!-- who:maneesh,what:ewm-13861 for close job not show in dropdown,when:22/09/2023 -->
                                        <div class="dropdown-value-box with-owners" *ngIf="item.IsJobClosed!=1">
                                            <div class="value text-overflow" id="xeople-dropdown-jobtitle">{{item?.JobTitle}}</div>
                                            <!-- Who: Satya Prakash Gupta : What:EWM-14571 EWM-14606 : Add owners ,when:04/Oct/2023 -->
                                            <div class="second-value" id="xeople-dropdown-refID">
                                                <span class="refid text-overflow">{{item?.JobReferenceId}}</span>
                                                <div class="job-owners">
                                                        <div class="userAvtaarAndName" id="screening-userAvtaar" *ngFor="let ownerInfo of item?.Owners| slice:0:2;">
                                                            <img class="tooltip-trigger" *ngIf="(ownerInfo?.OwnerProfileImageUrl && ownerInfo?.OwnerProfileImageUrl !== '');else shortNameBlock" src="{{ownerInfo?.OwnerProfileImageUrl}}"
                                                              tabindex>
                                                              <ng-template #shortNameBlock><span tabindex  id="short-name-expand">{{ownerInfo?.ShortName}}</span></ng-template>
                                                        </div>
                                                        <button mat-flat-button color="primary" class="more-owners" id="btnMore" *ngIf="item?.Owners?.length>2">
                                                            +{{item?.Owners?.length-2}}
                                                         </button>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-option>
                                </ng-select>

                                <div class="infoStyle" id="infoStyle">
                                <mat-icon matTooltipPosition="left"
                                    matTooltip="{{'label_jobhelpIcon' |translate}}">
                                    info
                                </mat-icon>
                                <button mat-icon-button *ngIf="(selectedJobSaved | json) != '{}'" id="btn-job" (click)="onJobchange(selectedJobSaved,'onClick')">
                                    <mat-icon matTooltip="{{'label_searchJobParameters' | translate}}" matTooltipClass="card-list-tooltip" matTooltipPosition="before"
                                    >pageview</mat-icon>
                                </button>
                            </div>

                        </div>
                        <div class="ng-slectBox mb-0">
                            <ng-select placeholder="{{'label_usertype' | translate}}" [readonly]="true"
                                formControlName="UserType" id="search_usertype" class="dropdown-body" appendTo="body"
                                [dropdownPosition]="'bottom'" tabindex>
                                <ng-option value="Candidate">Candidate</ng-option>
                                <ng-option value="Employee" disabled>Employee</ng-option>
                            </ng-select>
                            <mat-error *ngIf="filterSearchForm.controls['UserType'].hasError('required')
                                && filterSearchForm.controls['UserType'].touched">
                                {{ 'label_usertype' |translate}} {{ 'label_errorreqired'
                                |translate}}
                            </mat-error>
                        </div>
                        <div class="save-filter-input">
                            <mat-form-field class=" mb-0">
                                <div *ngIf="loadingSearchFilter" class="k-i-loading
                                inputSearch"></div>
                                <input matInput #trigger="matAutocompleteTrigger" tabindex placeholder="{{'label_searchFilter'|translate}} ({{TotalFilter}})"
                                [matAutocomplete]="auto"
                                id="name-filterFrom" formControlName="filterName" (keyup)="onsearchByFilter($event.target.value)"
                                [(ngModel)]="filterVal"  #inputAutoComplete>

                                <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectedFilterCheck($event)" class="xeople-search-autocomplete">
                                    <div class="mat-auto-complete">

                                        <ng-container *ngFor="let filterData of SavedfilterList">
                                            <div class="main-email-list">
                                                <mat-option class="auto-mat-option" *ngIf="filterVal!==filterData?.FilterName" id="searchFilter-Name" [value]="filterData">
                                                    <div class="user-email-searchlist">
                                                        <span class="search-txt">{{filterData.FilterName}}</span>
                                                        <span class="spacer"></span>
                                                    </div>
                                                </mat-option>

                                                <mat-select-trigger>
                                                    <button [style.visibility]="filterData?.Delete==1 && filterData?.IsAdminFilter==0? 'visible' : 'hidden'" mat-icon-button color="warn" id="btnAddFilter" type="button"
                                                    (click)="onDeleteFilter(filterData)">
                                                        <mat-icon class="mr-0">delete</mat-icon>
                                                    </button>
                                                </mat-select-trigger>
                                            </div>
                                        </ng-container>
                                    </div>
                                </mat-autocomplete>


                                <button  type="button" mat-button *ngIf="filterVal" matSuffix mat-icon-button aria-label="Clear"
                                (click)="resetValue($event)">
                                <mat-icon>close</mat-icon>
                                </button>
                                <button type="button" mat-icon-button matSuffix></button>
                                      </mat-form-field>
                                <mat-error class="filter-mat-error" *ngIf="filternotFoundMsg">
                                    {{ 'label_filterMentionMsg' |translate}}
                                </mat-error>
                                <button class="search-filter-matSuffix" mat-icon-button id="btnAddFilter" color="primary" type="button" (click)="openFilterListModal()"
                                    (mouseenter)="mouseoverAnimation(animationVar?.ExpandArrowButton?.id, animationVar?.ExpandArrowButton?.animation)"
                                    (mouseleave)="mouseleaveAnimation(animationVar?.ExpandArrowButton?.id, animationVar?.ExpandArrowButton?.animation)"
                                    matTooltip="{{'label_AllFilters' | translate}}" matTooltipClass="card-list-tooltip" matTooltipPosition="before">
                                        <mat-icon class="mr-0" id="{{animationVar?.ExpandArrowButton?.id}}"
                                        class="{{animationVar?.ExpandArrowButton?.isAnimClass}}">open_in_new</mat-icon>
                                </button>

                        </div>

                        <div class="ng-slectBox ng-select-with-info-icon search-pool mb-0" id="search-pool">

                            <ng-select tabindex [multiple]="false" [(ngModel)]="selectedPool" class="dropdown-body show-required" #selectpool [searchable]="false"
                                formControlName="SearchPool" appendTo="body" [clearable]="false" [closeOnSelect]="true"
                                [compareWith]="compareFn" placeholder="{{'label_searchPool'|translate}}" id="Search-pool" 
                                (change)="onChangeSearchPool($event)" bindLabel="SearchPoolName" required>
                                <ng-template ng-header-tmp>
                                    <ng-container >
                                        <mat-form-field class="dropdown-search" floatLabel="never">
                                            <input matInput class="selectSearch" autocomplete="off" placeholder=" {{'label_searchPool'|translate}}" type="text"
                                            (input)="selectpool.filter($event.target.value)" />
                                        </mat-form-field>
                                    </ng-container>
                                </ng-template>

                                <ng-option *ngFor="let item of poolInfo" [value]="item" [disabled]="item?.SearchPoolName.toLowerCase()=='Entire OnHire'.toLowerCase() && (IsEOHIntergrated && IsSearchExtractNotificationEnable)?false:item?.IsEnabled==0">
                                    <div class="dropdown-value-box" id="xeople-dropdown-job">
                                        <div class="value text-overflow" id="xeople-dropdown-jobtitle">{{item?.SearchPoolName}}</div>
                                        <div class="second-value" id="xeople-dropdown-serachPool"  *ngIf="item?.SearchPoolName.toLowerCase()=='Entire OnHire'.toLowerCase() && !(IsSearchExtractNotificationEnable && IsEOHIntergrated)">
                                          <a class="link" routerLink="../../administrators/integration-interface-board/ehr-integration" 
                                          [queryParams]="{code: eohRegistrationCode, name: eohIntegratedName}" id="btnBackForIndustry">
                                            {{'label_xeopleEOH_title'|translate}}
                                          </a>
                                        </div>
                                    </div>
                                </ng-option>
                                </ng-select>
                            <mat-error *ngIf="filterSearchForm.controls['SearchPool'].hasError('required') && filterSearchForm.controls['SearchPool'].touched">
                            {{ 'label_searchPool' |translate}} {{ 'label_errorreqired' |translate}}
                            </mat-error>

                            <mat-icon class="infoStyle" matTooltipPosition="left"
                                matTooltip="{{'label_poolIcon' |translate}}">info</mat-icon>
                        </div>
                    </div>

                    <div class="xeople-search-first-sec-data-col" id="xeople-search-first-sec-data-col" [ngClass]="searchResult==true?'xeople-job-section':''">
                        <div class="xeople-search-first-data" [ngClass]="showAllJobResults? 'xeople-job-section-show':'abcd'">
                            <div class="data-cols" id="xeople-search-job"
                            (mouseenter)="mouseoverAnimation(animationVar?.jobtitle?.id, animationVar?.jobtitle?.animation)"
                            (mouseleave)="mouseleaveAnimation(animationVar?.jobtitle?.id, animationVar?.jobtitle?.animation)">
                                <mat-icon matTooltip="{{'label_jobTitle' | translate}}" matTooltipClass="custom-tooltip"
                                id="{{animationVar?.jobtitle?.id}}" class="{{animationVar?.jobtitle?.isAnimClass}}">work</mat-icon>
                                <!---@When: 10-03-2023 @Who:Renu @Why: EWM-10970 EWM-11012 @What: href removed-->
                                <a  mat-button class="no-cursor" matTooltip="{{jobObj?.JobTitle}}" matTooltipClass="custom-tooltip">{{jobObj?.JobTitle}}</a>
                            </div>
                            <div class="data-cols" id="xeople-search-ref-id"
                            (mouseenter)="mouseoverAnimation(animationVar?.jobid?.id, animationVar?.jobid?.animation)"
                            (mouseleave)="mouseleaveAnimation(animationVar?.jobid?.id, animationVar?.jobid?.animation)">
                                <mat-icon color="primary" matTooltip="{{'label_job_reference_Id' | translate}}" matTooltipClass="custom-tooltip"
                                id="{{animationVar?.jobid?.id}}" class="{{animationVar?.jobid?.isAnimClass}}">badge</mat-icon>
                                <!---@When: 10-03-2023 @Who:Renu @Why: EWM-10970 EWM-11012 @What: href removed-->
                                <a  mat-button color="primary" matTooltip="{{jobObj?.JobReferenceId}}" matTooltipClass="custom-tooltip"
                                [routerLink]="['/client/jobs/job/job-detail/detail']" [queryParams]="{jobId:jobObj?.JobId,workflowId:jobObj?.WorkflowId}" target="_blank">{{jobObj?.JobReferenceId}}</a>
                            </div>

                            <div class="data-cols" id="xeople-search-company-name"
                            (mouseenter)="mouseoverAnimation(animationVar?.jobclient?.id, animationVar?.jobclient?.animation)"
                            (mouseleave)="mouseleaveAnimation(animationVar?.jobclient?.id, animationVar?.jobclient?.animation)">
                                <mat-icon matTooltip="{{'label_cover_client_name' | translate}}" matTooltipClass="custom-tooltip"
                                id="{{animationVar?.jobclient?.id}}" class="{{animationVar?.jobclient?.isAnimClass}}">diversity_3</mat-icon>
                                <!---@When: 10-03-2023 @Who:Renu @Why: EWM-10970 EWM-11012 @What: href removed-->
                                <a  mat-button class="no-cursor" matTooltip="{{jobObj?.ClientName}}" matTooltipClass="custom-tooltip">{{jobObj?.ClientName}}</a>
                            </div>

                            <!---------@When: 31-03-2023 @who:Amit @why: EWM-11644 @what: recruiter design modified start here--------->
                            <div class="data-cols" id="xeople-search-owner">
                                <span class="person"  (mouseenter)="mouseoverAnimation(animationVar?.jobname?.id, animationVar?.jobname?.animation)"
                                (mouseleave)="mouseleaveAnimation(animationVar?.jobname?.id, animationVar?.jobname?.animation)">
                                <mat-icon color="primary" matTooltip="{{'label_recruiter' | translate}} {{'label_name' | translate}}" matTooltipClass="custom-tooltip"
                                id="{{animationVar?.jobname?.id}}" class="{{animationVar?.jobname?.isAnimClass}}">person_3</mat-icon>
                                </span>
                                <div class="multiple-owner-sec">
                                    <div class="multiple-owner" *ngFor="let OwnersNameData of largeScreenTagDataOwner">
                                        <div class="userAvtaarAndName tooltip
                                        tooltip-bottom">
                                            <img class="tooltip-trigger" *ngIf="OwnersNameData?.OwnerProfileImageUrl!=''"
                                src="{{OwnersNameData?.OwnerProfileImageUrl}}" alt="user-name" />
                                            <span class="tooltip-trigger"
                                            *ngIf="OwnersNameData?.OwnerProfileImageUrl==''">{{sortName(OwnersNameData?.OwnerName)}}</span>
                                            <div class="tooltip-drop">
                                <img class="short-image" *ngIf="OwnersNameData?.OwnerProfileImageUrl!=''"  alt="user-name"
                                src="{{OwnersNameData?.OwnerProfileImageUrl}}" />
                                <span class="short-name" *ngIf="OwnersNameData?.OwnerProfileImageUrl==''">{{sortName(OwnersNameData.OwnerName)}}</span>
                                <div class="user-name">{{OwnersNameData?.OwnerName}}</div>
                                </div>
                                        </div>
                                    </div>
        <!--  who:maneesh,when:30/03/2023,what:ewm-11203 for button show when owner more than 10 -->
        <button mat-icon-button color="primary"
        *ngIf="((jobObj?.OwnersList != undefined)&&(jobObj?.OwnersList != null)&&(jobOwner>10))"
        class="more-owner-show" id="btnMore" type="button">
        <span class="extra-more" *ngIf="jobObj?.OwnersList?.length<=999" matTooltipClass="custom-tooltip"
            matTooltip="{{jobObj?.OwnersList?.length-10}} {{'label_more' | translate}}..">+{{jobObj?.OwnersList?.length-10}}</span>
        <mat-icon *ngIf="jobObj?.OwnersList?.length>999" matTooltipClass="custom-tooltip"
            matTooltip="999 {{'label_more' | translate}}..">more_horiz</mat-icon>
        </button>
        <mat-menu #showAllOwner="matMenu" class="all-owner-list owner-hover-list" id="respinsiveSidebarDropdown">
        <mat-list role="list">
            <ng-container *ngFor="let OwnersNameData of smallScreenTagDataOwner, let i = index;">
            <mat-list-item>
                <div class="userAvtaarAndName mr-5">
                <img *ngIf="OwnersNameData?.OwnerProfileImageUrl!=''"  alt="user-name"
                    src="{{OwnersNameData?.OwnerProfileImageUrl}}" />
                <span
                    *ngIf="OwnersNameData?.OwnerProfileImageUrl==''">{{sortName(OwnersNameData.OwnerName)}}</span>
                </div>
                <span class="jobAgeBoxTimer">{{OwnersNameData?.OwnerName | titlecase}}</span>
            </mat-list-item>
            </ng-container>
        </mat-list>
        </mat-menu>
        <div class="group-btn">
        <!-- [disabled]="this.OwnersList!= null && (this.OwnersList?.length>3 )== false" -->
        <button type="button" mat-icon-button color="primary" id="Job-btn-ThreedotId" [matMenuTriggerFor]="showAllOwner"
        [disabled]="this.jobObj?.OwnersList!= null && (this.jobObj?.OwnersList.length>10 )== false"
            (mouseenter)="mouseoverAnimation(animationVar?.OwnerSouthEastButton?.id, animationVar?.OwnerSouthEastButton?.animation)"
            (mouseleave)="mouseleaveAnimation(animationVar?.OwnerSouthEastButton?.id, animationVar?.OwnerSouthEastButton?.animation)">
            <mat-icon fontSet="material-icons-outlined" id="{{animationVar?.OwnerSouthEastButton?.id}}"
            class="{{animationVar?.OwnerSouthEastButton?.isAnimClass}}">
            south_east
            </mat-icon>
        </button>
        </div>
        <!--  who:maneesh,when:30/03/2023,what:ewm-11203 for button show when owner more than 10 -->


                                </div>
                            </div>
                            <!---------@When: 31-03-2023 @who:Amit @why: EWM-11644 @what: recruiter design modified end here--------->

                        </div>
                        <!-- <button mat-icon-button color="primary" class="showHideJobDataButton" id="showJobData" (click)="showJobData()">
                            <mat-icon [ngClass]="showAllJobResults? 'hide':''">expand_more</mat-icon>
                            <mat-icon [ngClass]="showAllJobResults? '':'hide'">expand_less</mat-icon>
                        </button> -->
                    </div>

                </div>
                <ng-container *ngIf="secondThirdFourthSec">
                <div class="xeople-search-second-sec" id="xeople-search-second-sec">
                    <div class="xeople-search-card" id="xeople-search-card">
                        <p>{{'label_chooseSearchFields'| translate}} <span class="mark-mandatory">*</span><mat-icon class="infoStyle"
                            matTooltipPosition="left" color="primary"
                            matTooltip="{{'lable_inputIcon' |translate}}">info</mat-icon>
                        </p>
                        <div class="xeople-search-main-section">
                            <div class="xeople-search-chips-container" id="xeople-search-chips-container">
                                <!-- @When: 13-April-2023 @who:Satya Prakash @why: EWM-11076 @what:Hide and show expand button -->
                                <button type="button" *ngIf="getHeight.offsetHeight>56" mat-icon-button color="primary" class="showMoreDataButton" id="showMoreData"
                                    (click)="showMoreData()">
                                    <span
                                    (mouseenter)="mouseoverAnimation(animationVar?.chooseSearchDown?.id, animationVar?.chooseSearchDown?.animation)"
                                    (mouseleave)="mouseleaveAnimation(animationVar?.chooseSearchDown?.id, animationVar?.chooseSearchDown?.animation)">
                                    <mat-icon [ngClass]="showAllResults===20? '':'hide'"
                                    id="{{animationVar?.chooseSearchDown?.id}}" class="{{animationVar?.chooseSearchDown?.isAnimClass}}">expand_more</mat-icon>
                                    </span>
                                    <span (mouseenter)="mouseoverAnimation(animationVar?.chooseSearchUp?.id, animationVar?.chooseSearchUp?.animation)"
                                    (mouseleave)="mouseleaveAnimation(animationVar?.chooseSearchUp?.id, animationVar?.chooseSearchUp?.animation)">
                                    <mat-icon [ngClass]="showAllResults===20? 'hide':''"
                                    id="{{animationVar?.chooseSearchUp?.id}}" class="{{animationVar?.chooseSearchUp?.isAnimClass}}">expand_less</mat-icon>
                                    </span>
                                </button>
                                <div #getHeight>
                                    <mat-chip-list #getHeight class="chips-box" [ngClass]="showAllResults===20? 'min-data':'max-data'">
                                        <mat-chip *ngFor="let inputInfo of inputFields;let
                                            j=index" [ngClass]="{'active': inputInfo.selected}" 
                                            (click)="inputFieldChange(inputInfo)">{{inputInfo.InputColumnName}}</mat-chip>
                                    </mat-chip-list>
                                </div>
                            </div>
                            <!--- @When: 30-03-2023 @Who:Satya Prakash Gupta @Why: EWM-11081 @What: add class -->
                            <div class="advanced-filters-box" id="advanced-filters-box" formArrayName="SearchQuery" *ngIf="checkvalInput?.length!==0">
                                <div class="bg"></div>
                                <div class="advanced-filters" id="advanced-filters">
                                    <div><i>{{'label_queryString'|translate}}</i>
                                        {{'label_where'|translate}}
                                    </div>
                                    <div class="dynmic-filter-box" *ngFor="let con of searchInfo().controls; let i=index" [formGroupName]="i" 
                                    [style.flex-wrap]="con.get('InputColumnName').value=='Keyword'?'wrap':''" 
                                    [style.min-height]="con.get('InputColumnName').value=='Keyword'?'':'43px'" 
                                     [ngClass]="con.controls['InputColumnValue'].hasError('numeric') ||
                                     con.controls['InputColumnValue'].hasError('required') ||con.controls['proximityLocation'].hasError('required') ?'validError':''">
                                        <div class="field" id="field">{{con.get('InputColumnName').value}}</div>
                                        <ng-container *ngIf="con.get('InputColumnName').value=='Keyword'; then keywordIn; else keywordOut"> </ng-container>
                                        <ng-template #keywordIn  formArrayName="InputColumnValue" >
                                            <div class="keyword-box" *ngFor="let ckey of  con.get('InputColumnValue').controls; let j=index"
	                                             [formGroupName]="j" [ngClass]="ckey.controls['InputColumnValue'].hasError('required') ?'validError':''">
                                             <div class="add-filter-condition">
                                                <div class="ng-slectBox">
                                                    <ng-select appendTo="body" class="xeople-search-ngselect-dropdown" tabindex
                                                        [clearable]="false" [searchable]="false" placeholder="" bindLabel="ConditionName" #selectCon
                                                        [dropdownPosition]="'bottom'" formControlName="InputColumnCondition"
                                                        id="filter-param1_{{j}}" (change)="onKeywordChangeCondition(i,con,j)">
                                                        <ng-template ng-header-tmp>
                                                            <input class="selectSearch" tabindex placeholder="{{'label_search'
                                                                |translate}}" type="text"
                                                                (input)="selectCon.filter($event.target.value)" />
                                                        </ng-template>
                                                        <ng-option *ngFor="let ckey of
                                                            filterCondition[i]" [value]="ckey">
                                                            {{ckey.ConditionName}}
                                                        </ng-option>
                                                    </ng-select>
                                                </div>
                                            </div>

                                            <div class="add-filter-value" id="add-filter-text" >
                                                <mat-form-field floatLabel="never" class="matchip-input">
                                                    <mat-chip-list #chipListFrom  formControlName="InputColumnValue" >
                                                        <mat-chip matTooltip="{{item}}" matTooltipClass="custom-tooltip" tabindex
                                                        *ngFor="let item of keywordList[j] | slice : 0 : maxMoreLengthKeywordList;let k=index"
                                                        [selectable]="true" [removable]="true" [editable]="true"
                                                          (removed)="removeKeyWord(item,k,con,j)"  class="email-chip">
                                                          <span class="text-overflow">{{item}}</span>
                                                          <mat-icon matChipRemove>cancel</mat-icon>
                                                        </mat-chip>
                                                        <button type="button" mat-flat-button class="max-count-box" [matMenuTriggerFor]="addInterviewMenu" *ngIf="keywordList[j]?.length>maxMoreLengthKeywordList">
                                                            +{{(keywordList[j] | slice : maxMoreLengthKeywordList : keywordList[j]?.length)?.length}}
                                                        </button>
                                                        <mat-menu #addInterviewMenu="matMenu" class="keywordList-mat-menu-panel" id="respinsiveSidebarDropdown1"
                                                            xPosition="before">
                                                            <mat-chip-list>
                                                                <mat-chip class="keywordList-chip" *ngFor="let item of keywordList[j]| slice : maxMoreLengthKeywordList : keywordList[j]?.length"
                                                                [removable]="true" (removed)="removeKeyWord(item,k,con,j)"  matTooltip="{{item}}" matTooltipClass="custom-tooltip">
                                                                    <span class="chip-data">{{item}}</span>
                                                                    <mat-icon matChipRemove>cancel</mat-icon>
                                                                </mat-chip>
                                                            </mat-chip-list>
                                                        </mat-menu>
                                                        <input tabindex placeholder="" [matChipInputFor]="chipListFrom"
                                                          [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="true"
                                                          (matChipInputTokenEnd)="addKeyWord($event,i,j,con.get('InputColumnCondition').value)"
                                                        tabindex>
                                                      </mat-chip-list>
                                                </mat-form-field>
                                            </div>
                                            <button type="button" mat-raised-button class="chip-remove" *ngIf="j!==0" id="keyword-remove" (click)="removeKeywordParam(ckey,i,j)"
                                            tabindex><mat-icon>close</mat-icon></button>
                                        </div>
                                        <button mat-icon-button class="add-more-keyword" aria-label="Clear" (click)="addKeywordControl(con.get('InputColumnCondition').value,i)">
                                            <mat-icon>add</mat-icon>
                                            </button>
                                        </ng-template>
                                        <ng-template #keywordOut>
                                            <div class="add-filter-condition">
                                                <div class="ng-slectBox">
                                                    <ng-select appendTo="body" class="xeople-search-ngselect-dropdown" tabindex
                                                        [clearable]="false" [searchable]="false" placeholder="" bindLabel="ConditionName" #selectCon
                                                        [dropdownPosition]="'bottom'" formControlName="InputColumnCondition"
                                                        id="filter-param1_{{i}}">
                                                        <ng-template ng-header-tmp>
                                                            <input class="selectSearch" tabindex placeholder="{{'label_search'
                                                                |translate}}" type="text"
                                                                (input)="selectCon.filter($event.target.value)" />
                                                        </ng-template>
                                                        <ng-option *ngFor="let col of
                                                            filterCondition[i]" [value]="col">
                                                            {{col.ConditionName}}
                                                        </ng-option>
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <!-- @When: 02-03-2023 @Who:Renu @Why: EWM-10611 EWM-11021 @What: for check dropdown multiple or single -->
                                            <div class="add-filter-value" id="add-filter-dropdown" *ngIf="con.get('InputColumnType').value==='Dropdown' && con.get('IsMultiple').value===false">
                                                <div class="ng-slectBox">
                                                    <ng-select tabindex  class="xeople-search-ngselect-dropdown" formControlName="InputColumnValue"
                                                        #select [searchable]="false" appendTo="body"
                                                        [clearable]="false" placeholder="" [items]="dropList[i]"
                                                        [bindLabel]="keyValue[i]"  [(ngModel)]="multiDropDownData[i]" (change)="onDropdownDatachange($event,i,con.get('IsMultiple').value)">
                                                        <ng-template ng-header-tmp>
                                                            <input class="selectSearch" tabindex placeholder="{{'label_search'
                                                                |translate}}" type="text" (input)="select.filter($event.target.value)" />
                                                        </ng-template>
                                                        <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                            <div class="ng-value" >
                                                                <span class="ng-value-label">
                                                                    {{item[keyValue[i]]}}</span>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="add-filter-value" id="add-filter-dropdown" *ngIf="con.get('InputColumnType').value==='Dropdown' && con.get('IsMultiple').value===true">
                                                <div class="ng-slectBox">
                                                    <ng-select tabindex [multiple]="true" class="xeople-search-ngselect-dropdown" formControlName="InputColumnValue"
                                                        #select [searchable]="false" appendTo="body"
                                                        [clearable]="false" placeholder="" [items]="dropList[i]"
                                                        [bindLabel]="keyValue[i]" [(ngModel)]="multiDropDownData[i]" (change)="onDropdownDatachange($event,i,con.get('IsMultiple').value)">
                                                        <ng-template ng-header-tmp>
                                                            <input class="selectSearch" tabindex placeholder="{{'label_search'
                                                                |translate}}" type="text" (input)="select.filter($event.target.value)" />
                                                        </ng-template>
                                                        <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                                                            <div class="ng-value" *ngFor="let
                                                                item of items |
                                                                slice:0:maxMoreLength">
                                                                <span class="ng-value-label">
                                                                    {{item[keyValue[i]]}}</span>
                                                                <span class="ng-value-icon
                                                                    right" (click)="clear(item)" aria-hidden="true">×</span>
                                                            </div>
                                                            <span class="add-count" *ngIf="items?.length> maxMoreLength">
                                                                <mat-icon>add</mat-icon>{{items?.length
                                                                    - maxMoreLength}}
                                                            </span>
                                                        </ng-template>

                                                    </ng-select>
                                                </div>
                                            </div>

                                        <div class="add-filter-value" id="add-filter-text" *ngIf="con.get('InputColumnType').value==='Text'">
                                            <mat-form-field floatLabel="never">
                                                <input matInput formControlName="InputColumnValue" placeholder="">
                                            </mat-form-field>
                                        </div>
                                    
                                        <!-- @When: 27-Jul-2023 @Who:Satya Prakash Gupta @Why: EWM-13284 EWM-13359 @What: Add class for two input field -->
                                        <div class="add-filter-value" [ngClass]="(con.get('DBColumnName').value|lowercase) ==('Proximity'|lowercase)?'with-two-num-field':''" id="add-filter-text" 
                                        [style.width]="con.get('InputColumnType').value==='Numeric'? '55px':''" 
                                        *ngIf="con.get('InputColumnType').value==='Numeric'">
                                        <ng-container *ngIf="(con.get('DBColumnName').value|lowercase) !=('Proximity'|lowercase) ">
                                            <mat-form-field floatLabel="never">
                                                <input matInput type="number" formControlName="InputColumnValue" min="0" oninput="this.value = Math.abs(this.value)" placeholder="">
                                            </mat-form-field>
                                            </ng-container>
                                             <!-- @When: 26-07-2023 @Who:Renu @Why: EWM-13249 EWM-13526 @What: for prioximity filter -->
                                            <!-- <mat-form-field floatLabel="never" *ngIf="(con.get('DBColumnName').value|lowercase) ==('Proximity'|lowercase) ">
                                               <input matInput  disabled id="proximity-unit" [value]="distanceUnit">
                                            </mat-form-field> -->
                                            <ng-container *ngIf="(con.get('DBColumnName').value|lowercase) ==('Proximity'|lowercase) ">
                                                <mat-form-field floatLabel="never" >
                                                 <!-- @When: 14-03-2024 @who:Amit @why: EWM-16429 @what: label & distance field change -->   
                                                <input class="text-overflow" required matInput tabindex ngx-google-places-autocomplete  formControlName="proximityLocation"
                                                (onAddressChange)="fetchDataFromAddressBar($event,con)" (blur)="focusOutAddress($event,con)"
                                                placeholder="{{ 'label_from' |translate}} {{ 'label_location' |translate}}" id="xeopleSearch-AddressLinkToMap" >
                                                </mat-form-field>
                                                <!-- @When: 28-03-2024 @who:Amit @why: EWM-16556 @what: text three dot use -->
                                                <mat-form-field class="distance-field" floatLabel="never">
                                                <input type="number" matInput tabindex formControlName="InputColumnValue" 
                                                id="proximityLocation-KM" placeholder="{{'label_Distance'|translate}}" min="0" max="99999999"
                                                 maxlength="8" oninput="this.value = Math.abs(this.value)">
                                                <div matSuffix class="km-distance" id="proximity-unit" *ngIf="(con.get('DBColumnName').value|lowercase) ==('Proximity'|lowercase) ">{{ 'label_Proximity_Unit' |translate}}</div>
                                                </mat-form-field>
                                                <!-- @When: 26-07-2023 @Who:Renu @Why: EWM-13249 EWM-13526 @What: for prioximity filter -->
                                                <!-- <mat-form-field floatLabel="never" *ngIf="(con.get('DBColumnName').value|lowercase) ==('Proximity'|lowercase) ">
                                                <input matInput  disabled id="proximity-unit" [value]="distanceUnit">
                                                </mat-form-field> -->
                                            </ng-container>
                                        </div>
                                        <div class="add-filter-value" id="add-filter-text" [style.width]="con.get('InputColumnType').value==='Date'? '120px':''" *ngIf="con.get('InputColumnType').value==='Date'">
                                            <mat-form-field>
                                                <input matInput [matDatepicker]="picker1" tabindex id="ParamDateValue{{i}}"
                                                    [min]="today" formControlName="InputColumnValue" required readonly>
                                                <button *ngIf="con.get('InputColumnValue').value" id="clearBtn" matSuffix mat-icon-button
                                                    aria-label="Clear" (click)="clearDate(con)" type="button">
                                                    <mat-icon>close</mat-icon>
                                                </button>
                                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                                <mat-datepicker #picker1></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                       </ng-template>
                                        <button type="button" mat-raised-button class="chip-remove" (click)="removeSearchParam(con,i)"
                                            tabindex><mat-icon>close</mat-icon></button>
                                        <div class="add-filter-more" *ngIf=" searchInfo().controls.length>i+1">AND</div>
                                    </div>
                                </div>
                            </div>
                            <!--- @When: 27-April-2023 @Who:Satya Prakash Gupta @Why: EWM-11193 @What: add red color in error -->
                            <span class="badge red show-alert-message" *ngIf="checkvalInput?.length==0">
                                {{'label_pleaseSelectRequiredSearchField' | translate}}
                            </span>
                        </div>
                    </div>
                </div>

                <div class="xeople-search-fourth-sec" id="xeople-search-fourth-sec">
                    <div class="xeople-search-first-sec-form-col" id="xeople-search-first-sec-form-col">
                        <div class="xeople-output">
                            <mat-checkbox color="primary" id="searchfilter-pipeline"
                                formControlName="includeJobPipeline" (change)="onJobPipelineChange($event)"
                                tabindex>{{'label_jobpipline'|translate}}</mat-checkbox>
                        </div>
                        <div class="matching-records-box xeople-output" id="matching-records-box">
                            <label>{{'label_numberResults'| translate}}<span class="mark-mandatory required-show">*</span> </label>
                            <div class="matching-records-box-radio">
                                <mat-radio-group color="primary" id="searchfilter-record-matching"
                                    formControlName="ShowAllMatchingRecord" (change)="radioChange($event)" tabindex>
                                    <mat-radio-button [value]="1">{{'label_all'|
                                        translate}}</mat-radio-button>
                                    <mat-radio-button [value]="0">{{'label_top'|
                                        translate}}</mat-radio-button>
                                </mat-radio-group>
                                <div class="ng-slectBox">
                                    <ng-select placeholder="" id="searchfilter-matchingrecord" [readonly]="topVal"
                                        formControlName="ShowTopMatchingRecordNumber" class="dropdown-body xeople-search-ngselect-dropdown
                                        xeople-search-page-number" appendTo="body"
                                        [clearable]="false" tabindex>
                                        <ng-option [value]="10" selected>10</ng-option>
                                        <ng-option [value]="20">20</ng-option>
                                        <ng-option [value]="50">50</ng-option>
                                        <ng-option [value]="100">100</ng-option>
                                        <ng-option [value]="200">200</ng-option>
                                        <ng-option [value]="500">500</ng-option>
                                    </ng-select>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="xeople-search-third-sec" id="xeople-search-third-sec">
                    <div class="xeople-search-third-sec-show-reults" id="xeople-search-third-sec-show-reults">
                        <p>{{'label_outputResults'| translate}} <span class="mark-mandatory required-show">*</span>
                            <mat-icon class="infoStyle" matTooltipPosition="left" color="primary"
                                matTooltip="{{'label_outfiledLabel' |translate}}">info</mat-icon>
                        </p>

                        <button type="button" mat-icon-button color="primary" class="showMoreDataButton" id="showOutputResults" (click)="showOutputResults()">
                            <span
                            (mouseenter)="mouseoverAnimation(animationVar?.outputSearchDown?.id, animationVar?.outputSearchDown?.animation)"
                            (mouseleave)="mouseleaveAnimation(animationVar?.outputSearchDown?.id, animationVar?.outputSearchDown?.animation)">
                                <mat-icon [ngClass]="showOutputResilts===121? 'hide':''"
                                id="{{animationVar?.outputSearchDown?.id}}" class="{{animationVar?.outputSearchDown?.isAnimClass}}">expand_more</mat-icon>
                            </span>
                            <span
                            (mouseenter)="mouseoverAnimation(animationVar?.outputSearchUp?.id, animationVar?.outputSearchUp?.animation)"
                            (mouseleave)="mouseleaveAnimation(animationVar?.outputSearchUp?.id, animationVar?.outputSearchUp?.animation)">
                                <mat-icon [ngClass]="showOutputResilts===121? '':'hide'"
                                id="{{animationVar?.outputSearchUp?.id}}" class="{{animationVar?.outputSearchUp?.isAnimClass}}">expand_less</mat-icon>
                            </span>
                        </button>
                    </div>
                    <div class="xeople-search-third-sec-expand-data" id="xeople-search-third-sec-expand-data" [ngStyle]="{'height' :
                        showOutputResilts + 'px'}">
                        <div class="xeople-search-chips-container" id="xeople-search-chips-container">

                            <mat-chip-list class="chips-box">
                                <mat-chip *ngFor="let outputInfo of outputFields"
                                    [ngClass]="{'active': outputInfo.selected}"
                                    (click)="outputFieldChange(outputInfo)">{{outputInfo.OutputFieldName}}</mat-chip>
                            </mat-chip-list>
                            <!--- @When: 30-03-2023 @Who:Satya Prakash Gupta @Why: EWM-11081 @What: add class -->
                            <!--- @When: 27-April-2023 @Who:Satya Prakash Gupta @Why: EWM-11193 @What: add red color in error -->
                            <span class="badge red show-alert-message" *ngIf="checkval?.length==0">
                                {{'label_pleaseSelectRequiredOutputField' | translate}}
                            </span>
                        </div>

                    </div>
                </div>
                </ng-container>
                <div class="xeople-search-search-results" [ngClass]="searchResult?'show-results':'hide-results'" *ngIf="hideResults" >
                    <div class="results-header">
                        <div class="total-records">
                            <span>{{'label_XeopleSearch_totalMatches'|translate}} : </span> <strong>{{totalRecords}}</strong>
                        </div>
                        <div class="actions">
                            <button type="button" mat-stroked-button color="warn" class="closeDrawerIcon" (click)="closeResults()"
                            (mouseenter)="mouseoverAnimation(animationVar?.btnFolderIcon?.id, animationVar?.btnFolderIcon?.animation)"
                            (mouseleave)="mouseleaveAnimation(animationVar?.btnFolderIcon?.id, animationVar?.btnFolderIcon?.animation)">
                                <mat-icon id="{{animationVar?.btnFolderIcon?.id}}"
                                class="{{animationVar?.btnFolderIcon?.isAnimClass}}">close</mat-icon>
                            </button>
                        </div>
                    </div>
                    <app-xeopler-assing-job (xeopleSearchCanidatedata)="xeopleSearchCanidatedata($event)"
                       (otherJobs)="fetchDetailsCandidate($event)"
                      [resetFormSubject]="resetFormSearch.asObservable()"
                        (candidateid)="receivecandidateid($event)" (candidate)="receivecandidateiName($event)">
                    </app-xeopler-assing-job>
                </div>
            </div>
        </mat-drawer-content>

    </mat-drawer-container>
</form>

<!--Asign Job  -->
<ng-template cdkConnectedOverlay [cdkConnectedOverlayOrigin]="trigger" [cdkConnectedOverlayOpen]="overlayClientDetail">
    <!-- @When: 02-11-2023 @who:Amit @why: EWM-14964 @what: drawer structure change -->
    <mat-drawer-container class="overlay-drawer-container" autosize>
        <mat-drawer #asignJob class="overlay-drawer overlay-sm-drawer" mode="over" disableClose="true" position="{{positionMatDrawer}}" opened>
            <div class="closePanel">
                <button type="button" class="closeDrawerIcon" mat-stroked-button (click)="toggleDrwer(asignJob);">
                    <mat-icon>close</mat-icon>
                </button>
                <button class="sidebarSectionName overlay-sm-btn" mat-raised-button color="primary" type="button"
                    id="btnAssignCandidate">{{'label_addJobToCandidate'|translate
                    }}</button>
            </div>
            <div class="view-profile-summary link-job-summary" *ngIf="isAsignJob">
                    <app-xeople-search-assign-job  [savedFilterList]="savedFilter" [jobObj]="jobObj"
                        (childButtonEvent)="receivedMessageHandler($event,asignJob)"
                        (refreshgetjobApi)="fetchRefreshgetjobApi($event)"></app-xeople-search-assign-job>
            </div>

        </mat-drawer>
    </mat-drawer-container>
</ng-template>
<!--Asign Job View -->
<!--Parse Resume Start -->
<ng-template cdkConnectedOverlay [cdkConnectedOverlayOrigin]="trigger" [cdkConnectedOverlayOpen]="overlayParseResume">
    <!-- @When: 02-11-2023 @who:Amit @why: EWM-14964 @what: drawer structure change -->
    <mat-drawer-container class="overlay-drawer-container" autosize>
        <mat-drawer #parseResume class="overlay-drawer overlay-md-drawer" mode="over" disableClose="true"
            position="{{positionMatDrawer}}" opened>
            <div class="closePanel">
                <button type="button" class="closeDrawerIcon" mat-stroked-button (click)="toggleDrwerResume(parseResume);">
                    <mat-icon>close</mat-icon>
                </button>
                <button class="sidebarSectionName overlay-md-btn" mat-raised-button color="primary" type="button"
                    id="btnAssignCandidate">{{'label_parseResume'|translate }}</button>
            </div>
            <div class="view-profile-summary parse-resume-summary">
                <app-candidate-resume-parse *ngIf="isParseResume" [xeopleSearchData]="xeopleSearchData"
                    [candidateName]="candidateName" [candidateId]="candidateId" [DemoDoc]="DemoDoc"
                    [FileName]="FileName" [FilePath]="FilePath" [UploadFileName]="UploadFileName"
                    [isNewResumeLoading]="isNewResumeLoading">
                </app-candidate-resume-parse>
            </div>
        </mat-drawer>
    </mat-drawer-container>
</ng-template>
<!--Parse Resume -->
