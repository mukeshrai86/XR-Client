<!---
    @(C): Entire Software
    @Type: File, <html>
    @Who: Anup Singh
    @When: 06-April-2022
    @Why: EWM-5580 EWM-6098
    @What:  This page wil be use only for system-access-token Component HTML
-->
<!---
    @modified
    @(C): Entire Software
    @Type: File, <html>
    @Who: Amit Rajput
    @When: 14-April-2022
    @Why: EWM-5580 EWM-6100
    @What:  This page wil be use only for system-access-token Component HTML
-->
<div *ngIf="loading" class="logo-loader">
  <div class="logo-loading"></div>
</div>

<mat-card-header class="dashboard-mat-card-header" id="systemAccess-header">
  <mat-card-title class="only-for-title">
    <span> {{'label_systemAccessToken' |translate}} </span>
  </mat-card-title>
</mat-card-header>

<mat-drawer-container class="xeople-container-with-one-card-no-buttons" autosize id="systemAccess-drawer">
  <mat-card class="mat-elevation-z2 system-access" id="systemAccess-container">
    <div id="systemAccess-purpose">
      <!-- <h3 class="mt-0">{{'label_purpose' |translate}}</h3> -->
      <p class="mt-0">{{'label_purposeText1' |translate}} </p>
      <p>{{'label_purposeText2' |translate}} </p>
    </div>

    <div id="systemAccess-guidlinesGenerate">
      <h4 class="mt-0">{{'label_guidlineSubHeadingGenerate' |translate}}</h4>
      <p>{{'label_systemAccessToken_Profile1' |translate}} <strong>{{'label_systemAccessToken_Profile2' |translate}}</strong> {{'label_systemAccessToken_Profile3' |translate}} <strong>{{'label_systemAccessToken_Profile4' |translate}}</strong> {{'label_systemAccessToken_Profile5' |translate}} </p>
      <p>{{'label_systemAccessToken_Select1' |translate}} <strong>{{'label_systemAccessToken_Select2' |translate}}</strong> {{'label_systemAccessToken_Select3' |translate}}</p>
      <p>{{'label_systemAccessToken_TokenButton' |translate}} </p>
      <p>{{'label_systemAccessToken_TokenName1' |translate}} <strong>{{'label_systemAccessToken_TokenName2' |translate}}</strong> {{'label_systemAccessToken_TokenName3' |translate}} <strong>{{'label_systemAccessToken_TokenName4' |translate}}</strong> {{'label_systemAccessToken_TokenName5' |translate}} <strong>{{'label_systemAccessToken_TokenName6' |translate}}</strong> </p>
      <p>{{'label_systemAccessToken_OnceToken' |translate}} </p>
      <p><strong>{{'label_systemAccessToken_Note1' |translate}}</strong> {{'label_systemAccessToken_Note2' |translate}}</p>
      <button mat-stroked-button class="mb-10" color="primary" tabindex type="button" id="btnGenerateToken"
      (click)="openModelGenerateToken()">
      <mat-icon>add</mat-icon> {{'label_generateToken' |translate}}
      </button>
      <h4 class="mt-5">{{'label_systemAccessToken_ToRevoke' |translate}}</h4>
      <p>{{'label_systemAccessToken_ChooseSAT1' |translate}} <strong>{{'label_systemAccessToken_ChooseSAT2' |translate}}</strong></p>
      <p>{{'label_systemAccessToken_PopupAppears1' |translate}} <strong>{{'label_systemAccessToken_PopupAppears2' |translate}}</strong></p>
    </div>

    <div class="question-list-sec">
      <div class="new-data-list-header">

        <div class="new-data" (click)="onSort('Name')" id="systemAccess-tokenName">
          {{'label_tokenName'|translate}}
          <mat-icon *ngIf="sortedcolumnName === 'Name' && sortDirection === 'asc'">{{ascIcon}}</mat-icon>
          <mat-icon *ngIf="sortedcolumnName === 'Name' && sortDirection === 'desc'">{{descIcon}}</mat-icon>
        </div>

        <div class="new-data" (click)="onSort('LastAccessed')" id="systemAccess-lastAccessed">
          {{'label_lastAccessed'|translate}}
          <mat-icon *ngIf="sortedcolumnName === 'LastAccessed' && sortDirection === 'asc'">{{ascIcon}}</mat-icon>
          <mat-icon *ngIf="sortedcolumnName === 'LastAccessed' && sortDirection === 'desc'">{{descIcon}}</mat-icon>
        </div>

        <div class="new-data" (click)="onSort('ExpiryDate')" id="systemAccess-expiryDate">
          {{'label_expiryDate'|translate}}
          <mat-icon *ngIf="sortedcolumnName === 'ExpiryDate' && sortDirection === 'asc'">{{ascIcon}}</mat-icon>
          <mat-icon *ngIf="sortedcolumnName === 'ExpiryDate' && sortDirection === 'desc'">{{descIcon}}</mat-icon>
        </div>

        <div class="new-data" id="systemAccess-Action">
          {{'label_actions'|translate}}
        </div>

      </div>
      <div class="col nodata"
        *ngIf="this.gridViewList==undefined || this.gridViewList==null ||this.gridViewList.length==0">
        <span>{{'label_noRecordAvailable'|translate}}</span>
      </div>

      <div class="new-data-list-content">
        <div class="new-data-list-list" *ngFor="let accessToken of gridViewList;let i =index"
          [@letterAnim4]="{value: animationState, params: { delay:delaAnimation(i)} }">
          <div class="new-data">
            <span class="cardListTxt word-wrap" matTooltip="{{accessToken.Name }}" matTooltipClass="custom-tooltip">
              <a class="cursor" (click)="openModelGenerateNewApiToken(accessToken)">
                {{accessToken.Name }}
              </a>
            </span>
          </div>

          <div class="new-data">
            <span class="cardListTxt word-wrap" matTooltip="{{accessToken.LastAccessed}}"
              matTooltipClass="custom-tooltip">
              {{accessToken.LastAccessed}}
            </span>
          </div>

          <div class="new-data">
            <span class="cardListTxt word-wrap" matTooltip="{{accessToken.ExpiryDate | date:userpreferences.timeformate:userpreferences.timezone}}"
              matTooltipClass="custom-tooltip">
              {{accessToken.ExpiryDate | date:userpreferences.timeformate:userpreferences.timezone}}
            </span>
          </div>

          <div class="new-data">
            <button mat-stroked-button class="revoke-access" color="warn" tabindex type="button" id="btnRevokeAccess"
            (click)="revokeSystemAccessToken(accessToken)">
              {{'label_revokeAccess' |translate}}
            </button>
          </div>
        </div>
      </div>
 
    </div>



  </mat-card>
</mat-drawer-container>