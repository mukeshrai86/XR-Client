<!--
  @(C): Entire Software
  @Type: File, <ts>
  @Name: assessment-version.component.html
  @Who: Renu
  @When: 09-Mar-2022
  @Why:  EWM-5337 EWM-5461
  @What: Assessment version view page
 -->


    <div class="modal-header">
        <h2 matDialogTitle class="mb-0">{{assessmentName}} - {{'label_assementVersion' | customTranslate}}</h2>      
        <button mat-icon-button  id="btncloseversion" (click)="onDismiss()" color="warn">
            <mat-icon>close</mat-icon>
        </button>
    </div>

    <mat-dialog-content class="col version-dialog">
        <div class="row mb-0">
            <div [ngClass]="[ viewMode === 'listMode' ? 'listMode' : 'hide']">
                <div class="joblanding-kendo  kendo-table-container">
                    <!-- <ng-template #template let-anchor>
                        <span>{{ anchor.nativeElement.innerText}}</span>
                    </ng-template>
                    <div kendoTooltip #tooltip="kendoTooltip" showOn="none" position="bottom"
                        [tooltipTemplate]="template" (mouseover)="showTooltip($event)">
                        <kendo-grid [kendoGridBinding]="assementInfoList" [sortable]="true" [sort]="sort"
                            [scrollable]="'virtual'" [reorderable]="false" [resizable]="true"
                            (sortChange)="sortChange($event)" (scrollBottom)="pageChange($event)">

                            <kendo-grid-column width="35" class="p-0 listActionBox">
                                <ng-template kendoGridCellTemplate let-dataItem>

                                    <button mat-flat-button id="dataActionBtn" [matMenuTriggerFor]="beforegridMenu"
                                        class="dataActionButton">
                                        <mat-icon>
                                            more_vert
                                        </mat-icon>
                                    </button>

                                    <mat-menu #beforegridMenu="matMenu" xPosition="after"
                                        class="candidateQuickMenu candidate-data-dropdown listactionMenu">
                                        <span class="material-icons headerDroupDownUp">
                                            arrow_drop_up
                                        </span>

                                        <button mat-menu-item id="jobViewBtn"
                                            (click)="jobView.toggle();openjobDetailsView(dataItem.JobId)">
                                            <div class="two-icons">
                                                <mat-icon>preview</mat-icon>
                                            </div> {{'label_View' | translate}}
                                        </button>
                                    </mat-menu>
                                </ng-template>
                            </kendo-grid-column>


                            <kendo-grid-column field="VersionName" title="{{'label_versionTitle' | translate}}">
                            </kendo-grid-column>

                            <kendo-grid-column field="VersionDate" title="{{'label_date' | translate}}">
                                <ng-template kendoGridCellTemplate let-dataItem>
                                    {{dataItem.VersionDate| date:userpreferences.timeformate:userpreferences.timezone}}
                                </ng-template>
                            </kendo-grid-column>
                            <kendo-grid-column field="UpdatedBy" title="{{'label_updatedBy' | translate}}">
                            </kendo-grid-column>
                        </kendo-grid>
                        <div *ngIf="loadingscroll"
                            class="k-i-loading scrollloading candidateLoadingScrollBg clientTitlePurpleTxt top-75">
                        </div>
                       
                    </div> -->
                    

                      <div class="listCardView" id="listCardView" [ngClass]="[ viewMode === 'cardMode' ? '' : 'listcardContentMaxData list-infinite-scroll']"
                      *ngIf="formtitle=='grid'">
                      <div id="contentdata" [ngClass]="[ viewMode === 'cardMode' ? 'cardContent' : 'listContent']">

                        <div class="mb-0 listHeader" id="listHeader" [class.hide]="isvisible">

                          <div class="col col-5 listActionBox">
                            <strong>&nbsp;</strong>
                          </div>
                  
                       
                          <div class="col col-1" (click)="onSort('VersionName')">
                            <button mat-button [disableRipple]="true" id="status-seq">
                              <strong>{{'label_versionTitle'|translate}}</strong>
                              <mat-icon *ngIf="sortedcolumnName === 'VersionName' && sortDirection === 'asc'">{{ascIcon}}</mat-icon>
                              <mat-icon *ngIf="sortedcolumnName === 'VersionName' && sortDirection === 'desc'">{{descIcon}}</mat-icon>
                            </button>
                          </div>
                          <div class="col col-2" (click)="onSort('VersionDate')">
                              <button mat-button [disableRipple]="true" id="status-status">
                                <strong>{{'label_date'|translate}}</strong>
                                <mat-icon *ngIf="sortedcolumnName === 'VersionDate' && sortDirection === 'asc'">{{ascIcon}}</mat-icon>
                                <mat-icon *ngIf="sortedcolumnName === 'VersionDate' && sortDirection === 'desc'">{{descIcon}}</mat-icon>
                              </button>
                            </div>
                          <div class="col col-3" (click)="onSort('UpdatedBy')">
                            <button mat-button [disableRipple]="true" id="status-Builtin">
                              <strong>{{'label_updatedBy'|translate}}</strong>
                              <mat-icon *ngIf="sortedcolumnName === 'UpdatedBy' && sortDirection === 'asc'">{{ascIcon}}</mat-icon>
                              <mat-icon *ngIf="sortedcolumnName === 'UpdatedBy' && sortDirection === 'desc'">{{descIcon}}</mat-icon>
                            </button>
                          </div>
                        
                  
                         
                        </div>

                        <div class="row">
                          <div *ngIf="loadingPopup" class="list"></div>
                          <div class="col nodata" *ngIf="assementInfoList==undefined ||assementInfoList.length==0">
                            <span>{{'label_noRecordAvailable'|translate}}</span>
                          </div>
                          <div class="col" [ngClass]="[ viewMode === 'cardMode' ? 'cardWidth' : 'l12 m12 s12 alternetBG']"
                            *ngFor="let statusData of assementInfoList;let i =index" [@letterAnim4]="{value: animationState, params: { delay:delaAnimation(i)} }">
                
                            <mat-card class="p-0" [ngClass]="[ viewMode === 'cardMode' ? 'CarMode' : '']">
                              <mat-card-content class="listcardContent" [ngClass]="[ viewMode === 'cardMode' ? 'cardHeight' : 'pt-0 pb-0 pl-0 pr-0']">
                                 <!-----list data start------------>
                                <div class="row mb-0 ml-0 mr-0" [ngClass]="[ viewMode === 'cardMode' ? 'maxData hide' : '']">
                                  <div class="col " [ngClass]="[ viewMode === 'cardMode' ? 'actionBox hide' : 'listActionBox col-5 p-0']">
                                    <button mat-flat-button [matMenuTriggerFor]="listactionMenu" class="dataActionButton">
                                      <mat-icon>more_vert</mat-icon>
                                    </button>
                
                                    <mat-menu #listactionMenu="matMenu" dir="ltr" xPosition="after" class="listactionMenu">
                                    <a mat-menu-item id="btnViewS" disabled>
                                      <mat-icon>subject</mat-icon>
                                      {{'label_View'|translate}}
                                    </a>
                                   
                                   
                                  </mat-menu>  
                                  </div>
                
                                  <div class="col" [ngClass]="[ viewMode === 'cardMode' ? 'card-header' : 'hide']">
                                    <strong>{{'label_versionTitle'|translate}}</strong>
                                  </div>
                                  <div class="col" 
                                    [ngClass]="[ viewMode === 'cardMode' ? 'card-data' : 'col-1']">
                                    <span class="cardListTxt word-wrap" matTooltip="{{statusData.VersionName }}"
                                      matTooltipClass="custom-tooltip">
                                      {{statusData.VersionName }}
                                    </span>
                                  </div>
                                 
                        
                                
                                 
                                  <div class="col" [ngClass]="[ viewMode === 'cardMode' ? 'card-header ' : 'hide']">
                                    <strong>{{'label_date'|translate}}</strong>
                                  </div>
                                  <div class="col" 
                                    [ngClass]="[ viewMode === 'cardMode' ? 'card-data' : 'col-2 colorCodeBoxCenter']">
                                    <span class="cardListTxt word-wrap" matTooltip="{{statusData.VersionDate| date:userpreferences.timeformate:userpreferences.timezone}}"
                                      matTooltipClass="custom-tooltip">
                                     {{statusData.VersionDate| date:userpreferences.timeformate:userpreferences.timezone}}
                                    </span>
                                  </div>
                                 
                                  <div class="col" [ngClass]="[ viewMode === 'cardMode' ? 'card-header' : 'hide']">
                                    <strong>{{'label_updatedBy'|translate}}</strong>
                                  </div>

                                  <div class="col" 
                                    [ngClass]="[ viewMode === 'cardMode' ? 'card-data' : 'col-3']">
                                    <span class="cardListTxt word-wrap" matTooltip="{{statusData.UpdatedBy}}"
                                      matTooltipClass="custom-tooltip">
                                      {{statusData.UpdatedBy}}
                                    </span>
                                  </div>
                                  
                                 
                              
                                 
                
                                </div>
                                 <!-----list data end------------>
                                 
                              </mat-card-content>
                              
                            </mat-card>
                          </div>
                        </div>
                        <div *ngIf="loadingscroll" class="k-i-loading scrollloading"></div>
                      </div>
                    </div>
                
                </div>
            </div>
        </div>
    </mat-dialog-content>
