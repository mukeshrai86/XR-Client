<!---
    @(C): Entire Software
    @Type: File, <html>
    @Who:Priti Srivastava
    @When: 12-July-2021
    @Why:EWM-2114
    @What:  This component is used for perform add edit of emplooyee tag.
-->
<div *ngIf="loading" class="logo-loader" id="logo-loader">
  <div class="logo-loading"></div>
</div>


  <mat-card-header class="dashboard-mat-card-header title-and-btn" id="client-dashboard-dashboard-mat-card-header">
    <mat-card-title class="only-title" *ngIf="activestatus=='Add'">{{'label_add' |translate}} {{'label_candidateTag'|translate}}</mat-card-title>
    <mat-card-title class="only-title" *ngIf="activestatus=='Edit'">{{'label_edit' |translate}} {{'label_candidateTag'|translate}}</mat-card-title>
    <mat-card-title class="only-title" *ngIf="activestatus=='View'">{{'label_View' |translate}} {{'label_candidateTag'|translate}}</mat-card-title>
    <div class="actionButton">
      <button mat-raised-button class="buttonForDesktopMobile" tabindex="9" (click)='onCancel()' color="warn"
        id="btnCancel">
        <mat-icon>cancel</mat-icon>
        <span class="buttonTxt">{{'button_cancel' |translate}}</span>
      </button>
      <button mat-raised-button class="buttonForDesktopMobile" tabindex="10" (click)="onSave()" 
            [disabled]="!candidateTagForm.valid" color="primary" id="candidateTag-btnSave">
        <mat-icon>check</mat-icon>
        <span class="buttonTxt">{{'label_save' |translate}}</span>
      </button>
     
    </div>
  </mat-card-header>


  <mat-drawer-container class="xeople-container-with-one-card" autosize id="dashboard-drawer">
    <mat-card class="component-card mat-elevation-z2" id="component-card">
  
     <div class="showAccessSection row">
      <form novalidate [formGroup]="candidateTagForm" class="col l12 m12 s12" id="candidateTag-form">
        <div class="row mb-0">
          <mat-card-subtitle class="col s12 m12 l12 subTitle">{{'label_candidateTag'|translate}} {{'label_details'|translate}}
          </mat-card-subtitle>
        </div>
        <div class="row">
          <div class="col l4 m12 s12">
            <div class="row mb-0">
                <div class="col l12 m12 s12">
                  <mat-form-field>
                      <input matInput formControlName="DisplaySequence" 
                       tabindex="1" id="candidateTag-displaySequnce" text="Name" placeholder="{{'label_displaySequence'|translate}}">
                    <!-- <mat-error
                      *ngIf="this.candidateTagForm.controls['DisplaySequence'].hasError('required') && candidateTagForm.controls['DisplaySequence'].touched">
                      {{ 'label_displaySequence' |translate}} {{ 'label_errorreqired' |translate}}
                    </mat-error> -->
                    <mat-error *ngIf="candidateTagForm.controls['DisplaySequence'].hasError('pattern')">
                      {{'label_displaySequence'|translate}} {{'label_errornumeric'|translate}}
                  </mat-error>
                             <!-- who:maneesh,what:ewm-12281 for handel validation issu,when:24/05/2023 -->
                    <mat-error
                    *ngIf="this.candidateTagForm.controls['DisplaySequence'].hasError('maxlength') && !candidateTagForm.controls['DisplaySequence'].hasError('pattern')">
                    {{ 'label_displaySequence' |translate}} {{ 'label_errormaxlength8' |translate}}
                  </mat-error>
                  <mat-error
                  *ngIf="this.candidateTagForm.controls['DisplaySequence'].hasError('min') && !candidateTagForm.controls['DisplaySequence'].hasError('pattern')">
                  {{ 'label_displaySequence' |translate}} {{ 'label_errorspecialcharNegative' |translate}}
                </mat-error>
                <mat-error
                *ngIf="this.candidateTagForm.controls['DisplaySequence'].hasError('orderTaken')">
                {{ 'label_displaySequence' |translate}} {{ 'label_areadyExists' |translate}}
              </mat-error>
                  </mat-form-field>
                </div>    
              </div>
            <div class="row mb-0">
                <div class="col l12 m12 s12">
                  <mat-form-field>
                      <input matInput formControlName="DescriptionShort" tabindex="3" id="candidateTag-shortDescription" text="Name" placeholder="{{'label_shortDescription'|translate}}"
                      required >
                    <mat-error
                      *ngIf="this.candidateTagForm.controls['DescriptionShort'].hasError('required') && candidateTagForm.controls['DescriptionShort'].touched">
                      {{ 'label_shortDescription' |translate}} {{ 'label_errorreqired' |translate}}
                    </mat-error>
                    <mat-error
                    *ngIf="this.candidateTagForm.controls['DescriptionShort'].hasError('maxlength') &&!candidateTagForm.controls['DescriptionShort'].hasError('whitespace')">
                    {{ 'label_shortDescription' |translate}} {{ 'label_errormaxlength100' |translate}}
                  </mat-error>
                    <!--  @Who: maneesh, @When: 04-jan-2023,@Why: EWM-10099 addnoWhitespaceValidator -->
                    <mat-error *ngIf="candidateTagForm.controls['DescriptionShort'].hasError('whitespace') && !candidateTagForm.controls['DescriptionShort'].hasError('required')">
                      {{'label_shortDescription' |translate}} {{'label_nameValidation' |translate}}
                 </mat-error>
                  </mat-form-field>
                </div>
              </div>
            <div class="row mb-0">
                <div class="col l12 m12 s12">
                  <mat-form-field>
                      <input matInput formControlName="Keyword" tabindex="5" id="candidateTag-keyword" text="Name" placeholder="{{'label_keyword'|translate}}" >
                    <!-- <mat-error
                      *ngIf="this.candidateTagForm.controls['Keyword'].hasError('required') && candidateTagForm.controls['Keyword'].touched">
                      {{ 'label_keyword' |translate}} {{ 'label_errorreqired' |translate}}
                    </mat-error> -->
                    <mat-error
                    *ngIf="this.candidateTagForm.controls['Keyword'].hasError('maxlength')">
                    {{ 'label_keyword' |translate}} {{ 'label_errormaxlength100' |translate}}
                  </mat-error>
                     <!-- @Who: maneesh, @When: 04-jan-2023,@Why: EWM-10099 addnoWhitespaceValidator
                    <mat-error *ngIf="candidateTagForm.controls['Keyword'].hasError('whitespace') && !candidateTagForm.controls['Keyword'].hasError('required')">
                      {{'label_keyword' |translate}} {{'label_nameValidation' |translate}}
                 </mat-error> -->  
                  </mat-form-field>
                </div>
              </div>
         
            <div class="row mb-0">
                <div class="col l12 m12 s12">
                  <div class="ng-slectBox">
                    <!-----@suika@EWM-10681 EWM-10818  @02-03-2023 to set default values for status in master data---->
                    <ng-select tabindex="8"  [readonly]="disabledCondition" formControlName="Status" id="ddlStatus"  [clearable]="false"
                       placeholder="{{'label_status' |translate}}" required class="show-required">
                      <ng-option *ngFor="let status of statusList" [value]="status.StatusId">{{status.StatusName}}</ng-option>
                    </ng-select>
                    <mat-error
                      *ngIf="this.candidateTagForm.controls['Status'].hasError('required') && candidateTagForm.controls['Status'].touched">
                      {{ 'label_status' |translate}} {{ 'label_errorreqired' |translate}}
                    </mat-error>
                  </div>
                </div>
              </div>
              
          </div>
          <div class="col l4 m12 s12">
            <div class="row mb-0">
                <div class="col l12 m12 s12">
                  <mat-form-field>
                      <input matInput formControlName="Code" (blur)="onNameChanges('Code')" tabindex="2" id="candidateTag-code" text="Name" placeholder="{{'label_code'|translate}}"
                      required >
                    <mat-error
                      *ngIf="this.candidateTagForm.controls['Code'].hasError('required') && candidateTagForm.controls['Code'].touched">
                      {{ 'label_code' |translate}} {{ 'label_errorreqired' |translate}}
                    </mat-error>
                    <mat-error
                      *ngIf="this.candidateTagForm.controls['Code'].hasError('codeTaken')">
                      {{ 'label_code' |translate}} {{ 'label_areadyExists' |translate}}
                    </mat-error>
                    <mat-error
                    *ngIf="this.candidateTagForm.controls['Code'].hasError('maxlength') && !candidateTagForm.controls['Code'].hasError('whitespace')">
                    {{ 'label_code' |translate}} {{ 'label_errormaxlength100' |translate}}
                  </mat-error>


                <mat-error *ngIf="candidateTagForm.controls['Code'].hasError('pattern') && !candidateTagForm.controls['Code'].hasError('whitespace')">
                  {{'label_code'|translate}} {{'label_errorspecialchar'|translate}}
              </mat-error>
                           <!--  @Who: maneesh, @When: 04-jan-2023,@Why: EWM-9959 addnoWhitespaceValidator -->

             <mat-error *ngIf="candidateTagForm.controls['Code'].hasError('whitespace') && !candidateTagForm.controls['Code'].hasError('required')">
              {{'label_code' |translate}} {{'label_nameValidation' |translate}}
            </mat-error>
                  </mat-form-field>
                </div>
                
              </div>
            <div class="row mb-0">
                <div class="col l12 m12 s12">
                  <mat-form-field>
                      <input matInput formControlName="Description" tabindex="4" id="candidateTag-description" text="Name" placeholder="{{'label_description'|translate}}"
                      required >
                    <mat-error
                      *ngIf="this.candidateTagForm.controls['Description'].hasError('required') && candidateTagForm.controls['Description'].touched">
                      {{ 'label_description' |translate}} {{ 'label_errorreqired' |translate}}
                    </mat-error>
                    <mat-error
                    *ngIf="this.candidateTagForm.controls['Description'].hasError('maxlength') && !candidateTagForm.controls['Description'].hasError('whitespace')">
                    {{ 'label_description' |translate}} {{ 'label_errormaxlength200' |translate}}
                  </mat-error>
                   <!--  @Who: maneesh, @When: 04-jan-2023,@Why: EWM-9959 addnoWhitespaceValidator -->
                        <mat-error *ngIf="candidateTagForm.controls['Description'].hasError('whitespace') && !candidateTagForm.controls['Description'].hasError('required')">
                           {{'label_description' |translate}} {{'label_nameValidation' |translate}}
                      </mat-error>
                  </mat-form-field>
                </div>
              </div>
            <div class="row mb-0">
                <div class="col l12 m12 s12 colorCode">
                              <mat-form-field>
                                <mat-label>{{'label_selectColor' |translate}}</mat-label>
                                  <input matInput formControlName="ColorCode" id="ColorCodesc" readonly>
                                  <div matSuffix class="color-picker-button" [ngStyle]="{backgroundColor:selctedColor}" (click)="showColorPallate($event)" cdkOverlayOrigin #trigger="cdkOverlayOrigin">
                                  </div>
                                  <!-- --------@When: 11-03-2023 @who:maneesh @why: EWM-11118 Desc- Custome color picker -------- -->
                                  <ng-template cdkConnectedOverlay cdkConnectedOverlayBackdropClass="cdk-overlay-transparent-backdrop"
                                  [cdkConnectedOverlayHasBackdrop]="true" [cdkConnectedOverlayOrigin]="trigger" [cdkConnectedOverlayOpen]="showColorPallateContainer"
                                  (backdropClick)="showColorPallateContainer = false">
                                      <!-- color picker body  -->
                                      <div class="color-picker-default">
                                          <input type="color" id="head" name="head" value="#e66465" (input)="onChaneColor($event)">
                                      </div>
                                      <div class="color-picker-container" [style.opacity]="isMoreColorClicked ? '0' : ' '"
                                          [style.display]="isMoreColorClicked ? 'none' : ' '">
                                          <div class="themeColor">{{'label_selectColour' | translate}}</div>
                                          <div class="picker theme-color">
                                              <div (click)="onSelectColor(codes)" class="color-picker" *ngFor="let codes of themeColors"
                                                  [ngStyle]="{backgroundColor:codes.colorCode}"> </div>
                                          </div>
                                          <div class="picker standard-color">
                                              <div (click)="onSelectColor(codes)" class="color-picker" *ngFor="let codes of standardColor"
                                                  [ngStyle]="{backgroundColor:codes.colorCode}">
                                              </div>
                                          </div>
                                          
                                          <div class="footer">
                                              <div class="noFill" (click)="onSelectColor(null)">
                                                  <mat-icon>clear</mat-icon>
                                                  <div class="noFillText">{{'label_clear'| translate}}</div>
                                              </div>
                                              <div class="more" (click)="closeTemplate()">
                                                  <label for="head" class="noFill">
                                                      <mat-icon fontSet="material-icons-outlined">palette</mat-icon>
                                                      <span>{{'labelMore'| translate}}</span>
                                                  </label>
                                              </div>
                                          </div>
                                          
                                      </div>
          
                                      <!-- color picker body End-->
                                  </ng-template>
                                  <!-- End  -->
                              </mat-form-field>
                          
                   
                </div>
              </div>
          </div>
        </div>
      </form>
    </div>
  
</mat-card>
</mat-drawer-container>