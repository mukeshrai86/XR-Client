<!---
    @(C): Entire Software
    @Type: File, <html>
    @Who: Naresh Singh
    @When: 
    @Modified: Oct 25 2021
    @Why: EWM-3040 EWM-3453
    @What:  This page is creted for Integration interface board UI Component HTML
-->
<!-- Entire Software : Satya Prakash Gupta : 02-Aug-2023 : restructure html page : EWM-13290 EWM-13309 -->
<div *ngIf="loading" class="logo-loader" id="logo-loader">
    <div class="logo-loading"></div>
</div>
<mat-card-header class="page-header" id="seek-integration-mat-card-header">
    <mat-card-title class="only-title ml-5">{{'label_partners' |translate}} </mat-card-title>

    <div class="header-action-button" id="tenant-feature-actionButton">
        <div class="group-header-button">
            <div class="jobBoardStatus" id="jobBoardStatus">
                <span>{{'label_jobBoardConfiguration' |translate }}:</span>
                <!--------@suika @EWM-13242 @Whn 08-08-2023--------------------------->
                <span class="new badge mr-10 ml-0 green" *ngIf="visibilityStatus">
                    {{'label_emailConnected' | translate}}
                </span>
                <span class="new badge red mr-10 ml-0" *ngIf="!visibilityStatus">
                    {{'label_pending' | translate}}
                </span>
            </div>
            <button mat-raised-button class="header-button" (click)="backToJob()"
                matTooltip="{{'label_backtointegrations'|translate}}"
                (mouseenter)="mouseoverAnimation(animationVar?.ActionsButton?.id, animationVar?.ActionsButton?.animation)"
                (mouseleave)="mouseleaveAnimation(animationVar?.ActionsButton?.id, animationVar?.ActionsButton?.animation)"
                matTooltipClass="card-list-tooltip" matTooltipPosition="before">
                <mat-icon id="{{animationVar?.ActionsButton?.id}}" class="{{animationVar?.ActionsButton?.isAnimClass}}">
                    keyboard_backspace</mat-icon>
            </button>
        </div>
    </div>
</mat-card-header>
<mat-drawer-container class="xeople-container-with-one-card" autosize id="seek-integration-drawer">
    <mat-card class="seek-mat-card component-card mat-elevation-z2" id="seek-mat-card">

        <div class="integration">
            <mat-card-subtitle class="subTitle">{{'label_seek' |translate}} {{'label_jobPostIntegration' |translate}}</mat-card-subtitle>

            <div class="integration-header">
                <div class="integration-header-image">
                    <img src="{{LogoUrl}}" alt="integration-logo" />
                </div>
                <div class="integration-header-data">
                    <button mat-stroked-button *ngIf="!visibilityStatus" id="getStartedId"
                        class="greenColorBtn" (click)="openSeekFormData('Add')">
                        {{'label_getStarted' |translate}}
                    </button>
                    <button mat-stroked-button *ngIf="visibilityStatus" id="getDisconnectId"
                        class="warnColorBtn" (click)="disconnectPopUp()">
                        {{'label_emailDisconnect' |translate}}
                    </button>
                    <button mat-stroked-button *ngIf="visibilityStatus" id="getUpdateId"
                        class="greenColorBtn" (click)="openSeekFormData('edit')">
                        {{'label_updateSettings' |translate}}
                    </button>
                    <span class="profileBuildBtn" id="tenantFeatureTag">
                        <mat-icon>local_offer</mat-icon>
                        {{TagCode}}
                    </span>
                </div>
            </div>
            <div class="integration-contentsection" *ngIf="showTabData">
                <p class="mb-0">{{Description}}</p>
                <div class="user-invitaion tab-container">
                    <mat-tab-group id='userinvitation-mtg'>
                        <mat-tab>
                            <ng-template mat-tab-label matRippleDisabled="disabled">
                                {{'label_snaps' | translate}}
                            </ng-template>
                            <swiper [slidesPerView]="screnSizePerStage" [spaceBetween]="0"
                                [navigation]="true" (swiper)="onSwiper($event)"
                                (slideChange)="onSlideChange()"
                                [ngClass]="screenPreviewClass" class="urOrderList">
                                <ng-template class="carousel-cell"
                                    *ngFor="let images of IntegrationImages" swiperSlide>
                                    <div class="stageListItems">
                                        <img src="{{images.ImageUrl}}" />
                                    </div>
                                </ng-template>
                            </swiper>
                        </mat-tab>
                        <mat-tab>
                            <ng-template mat-tab-label matRippleDisabled="disabled">
                                {{'label_video' | translate}}
                            </ng-template>
                            <swiper [slidesPerView]="screnSizePerStage" [spaceBetween]="0"
                                [navigation]="true" (swiper)="onSwiper($event)"
                                (slideChange)="onSlideChange()"
                                [ngClass]="screenPreviewClass" class="urOrderList">
                                <ng-template class="carousel-cell" swiperSlide>
                                    <div class="stageListItems">
                                        <video class="videoHeight" width="100%" controls>
                                            <source src="{{VideoUrl}}" type="video/mp4">
                                            <source src="{{VideoUrl}}" type="video/ogg">
                                            Your browser does not support HTML video.
                                        </video>
                                    </div>
                                </ng-template>
                            </swiper>
                        </mat-tab>
                        <mat-tab>
                            <ng-template mat-tab-label matRippleDisabled="disabled">
                                {{'label_contactDetails' |translate}}
                            </ng-template>
                            <mat-card class="contactDetailsSection">
                                <div class="contact-details">
                                    <p>{{'label_locationName' | translate}}</p>
                                    <span
                                        class="spnStyle">{{LocationName?LocationName:'--'}}</span>
                                </div>
                                <mat-divider class="mt-0 mb-0"></mat-divider>
                                <div class="contact-details">
                                    <p>{{'label_locationType' | translate}}</p>
                                    <span
                                        class="spnStyle">{{LocationType?LocationType:'--'}}</span>
                                </div>
                                <mat-divider class="mt-0 mb-0"></mat-divider>
                                <div class="contact-details">
                                    <p>{{'label_country' | translate}}</p>
                                    <span class="spnStyle">{{Country?Country:'--'}}</span>
                                </div>
                                <mat-divider class="mt-0 mb-0"></mat-divider>
                                <div class="contact-details">
                                    <p>{{'label_addressLine1' | translate}}</p>
                                    <span
                                        class="spnStyle">{{AddressLine1?AddressLine1:'--'}}</span>
                                </div>
                                <mat-divider class="mt-0 mb-0"></mat-divider>
                                <div class="contact-details">
                                    <p>{{'label_addressLine2' | translate}}</p>
                                    <span
                                        class="spnStyle">{{AddressLine2?AddressLine2:'--'}}</span>
                                </div>
                                <mat-divider class="mt-0 mb-0"></mat-divider>
                                <div class="contact-details">
                                    <p>{{'label_districtSuburb' | translate}}</p>
                                    <span class="spnStyle">{{District?District:'--'}}</span>
                                </div>
                                <mat-divider class="mt-0 mb-0"></mat-divider>
                                <div class="contact-details">
                                    <p>{{'label_city' | translate}}</p>
                                    <span class="spnStyle">{{TownCity?TownCity:'--'}}</span>
                                </div>
                                <mat-divider class="mt-0 mb-0"></mat-divider>
                                <div class="contact-details">
                                    <p>{{'label_state' | translate}}</p>
                                    <span class="spnStyle">{{State?State:'--'}}</span>
                                </div>
                                <mat-divider class="mt-0 mb-0"></mat-divider>
                                <div class="contact-details">
                                    <p>{{'label_zipCode' | translate}}</p>
                                    <span
                                        class="spnStyle">{{PostalCode?PostalCode:'--'}}</span>
                                </div>
                            </mat-card>
                        </mat-tab>
                    </mat-tab-group>
                </div>
            </div>
            
            <div class="integration-contentsection" *ngIf="showSeekFormData">
                <p style="font-weight: 600;">{{'label_seekIntegrationPara5' |translate}}</p>
                <div class="seekDetails seek-data">
                    <form [formGroup]="seekIntegrationForm">

                        <div formArrayName="Advertisers" *ngFor="let item of seekIntegrationForm.get('Advertisers').controls; let i = index;" class="advertisers">
                            <div [formGroupName]="i">
                                <mat-form-field>
                                    <mat-label>{{'label_advertiserId' |translate}}</mat-label>
                                    <input matInput tabindex="3" formControlName="AdvertiserId" maxlength="10" (keyup)="setValidateVal(i)"
                                        text="AdvertiserId" id="AdvertiserId{{i}}" required>
                                    <mat-error
                                        *ngIf="item.controls['AdvertiserId'].hasError('required')">
                                        {{'label_advertiserId' |translate}}
                                        {{'label_errorreqired' |translate}}
                                    </mat-error>
                                    <mat-error
                                        *ngIf="item.controls['AdvertiserId'].hasError('maxlength')">
                                        {{'label_advertiserId' |translate}}
                                        {{'label_errormaxlength10' |translate}}
                                    </mat-error>
                                    <!------------@suika @EWM-13275 @Whn 10-08-2023-------------->
                                    <mat-error
                                    *ngIf="item.controls['AdvertiserId'].hasError('pattern')">
                                    {{'label_advertiserId' |translate}}
                                    {{'label_numericerr' |translate}}
                                </mat-error>
                                <!--- // @suika @whn 17-08-2023 @EWM-13275-->
                                <mat-error
                                    *ngIf="item.controls['AdvertiserId'].hasError('invalid')">
                                    {{'400053' |translate}}
                                </mat-error>
                                <mat-error
                                *ngIf="item.get('AdvertiserId').errors?.unique && item.get('AdvertiserId').touched">
                                {{ 'label_advertiserId' |translate}} {{ 'label_errorunique' |translate}}
                                  </mat-error>
                                    <span class="btn-group" matSuffix>
                                        <button mat-raised-button color="primary"
                                            (click)="onValidateSeekAdvertiseId(this.seekIntegrationForm.value,i)"
                                            [disabled]="!item.controls['AdvertiserId'].valid" type="button"
                                            id="btnValidate" tabindex="10"
                                            class="buttonForDesktopMobile">
                                            <mat-icon>check</mat-icon>
                                            <span class="buttonTxt">{{'label_validate'|translate}}</span>
                                        </button>

                                        <button *ngIf="i>0" mat-raised-button color="warn"
                                            type="button" id="btnDelete{{i}}" (click)="deleteItem(i)"
                                            class="id-del-btn">
                                            <mat-icon>delete</mat-icon>
                                        </button>

                                        <mat-icon color="warn"
                                            matTooltip="{{'label_advertiserIdTooltip' |translate}}"
                                            matTooltipPosition="left" matSuffix>info_outline
                                        </mat-icon>
                                    </span>
                                </mat-form-field>

                                <div class="positionRelative">
                                    <mat-form-field class="org-name">
                                        <mat-label>{{'label_orgName' |translate}}</mat-label>
                                        <input matInput tabindex="3"
                                            formControlName="OrganizationName"
                                            text="OrganizationName" id="orgNameId{{i}}" readonly>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>

                        <div class="actionButton">
                            <button mat-raised-button color="primary" type="button"
                                class="addPlanType" (click)="addItem()" [disabled]="!this.seekIntegrationForm.valid">
                                <mat-icon>
                                    add
                                </mat-icon>
                            </button>
                        </div>

                        <div class="actionButton">
                            <button mat-raised-button tabindex="11" color="warn"
                                (click)="onCancel()" id="btnCancel"
                                class="buttonForDesktopMobile">
                                <mat-icon>close</mat-icon>
                                <span class="buttonTxt">{{'label_cancel' |translate}}</span>
                            </button>
                               <!--- // @suika @whn 17-08-2023 @EWM-13275-->
                            <button mat-raised-button *ngIf="activestatus=='Add'"
                                color="primary" (click)="onSave(this.seekIntegrationForm.value)"
                                [disabled]="!this.seekIntegrationForm.valid" type="button" id="btnSave"
                                tabindex="10" class="buttonForDesktopMobile">
                                <mat-icon>check</mat-icon>
                                <span class="buttonTxt">{{'label_save'|translate}}</span>
                            </button>
                               <!--- // @suika @whn 17-08-2023 @EWM-13275-->
                            <button mat-raised-button *ngIf="activestatus=='Edit'"
                                color="primary" (click)="onSave(this.seekIntegrationForm.value)"
                                [disabled]="!this.seekIntegrationForm.valid" type="button" id="btnUpdate"
                                tabindex="10" class="buttonForDesktopMobile">
                                <mat-icon>check</mat-icon>
                                <span class="buttonTxt">{{'label_update'|translate}}</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </mat-card>
</mat-drawer-container>